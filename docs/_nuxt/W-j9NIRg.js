import{_ as Mn}from"./B4v_w7yA.js";import{P as Ce,_ as Bn}from"./AuL2BTDa.js";import{_ as An}from"./BCqgaQRs.js";import{_ as Rn}from"./OvKpJHMc.js";import{_ as Ln}from"./D3TiTZms.js";import{_ as Nn}from"./PS5qcbPm.js";import{X as Et,_ as Un}from"./Blz3Reve.js";import{r as $,g as Fn,e as fn,f as hn,h as l,n as On,i as qn,j as zn,k as Vn,l as Kn,o as k,c as U,a as y,m as nt,p as j,w as V,b as F,d as W,t as R,q as rt,F as X,s as Z,v as qt,x as ht,y as ke,T as jn,z as Ee}from"./CFXXk92P.js";import{u as xe,P as Gn}from"./ConhNwKZ.js";import{g as Pt}from"./GJI3iByT.js";import{s as Hn}from"./B0ZUULAu.js";import{A as Yn}from"./B-NmB1ZL.js";import{c as Rt}from"./CqIzRSUQ.js";import{L as De}from"./Dk905gCl.js";import{P as Jn}from"./DFIr1tAc.js";import{T as Wn}from"./Cwn1vYzV.js";import{D as Qn}from"./BiiFiuJ8.js";import"./ChwLxpuI.js";const zt=Rt("dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);const Ie=Rt("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const Te=Rt("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const Xn=Rt("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);function Zn(){try{return"constructor"in GestureEvent}catch{return!1}}function gn(){return typeof window<"u"&&"ontouchstart"in window}function mn(e){return"pointerId"in e?null:e.type==="touchend"?e.changedTouches:e.targetTouches}function pn(e){return Array.from(mn(e)).map(t=>t.identifier)}function Se(e){const t="buttons"in e?e.buttons:0,{shiftKey:o,altKey:n,metaKey:r,ctrlKey:i}=e;return{buttons:t,shiftKey:o,altKey:n,metaKey:r,ctrlKey:i}}const $n=e=>e;function Pe(e,t=$n){const o=mn(e),{clientX:n,clientY:r}=o?o[0]:e;return t([n,r])}function yn(){}function vn(...e){return e.length===0?yn:e.length===1?e[0]:function(){var t;for(let o of e)t=o.apply(this,arguments)||t;return t}}function ut(e,t){if(e===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function Me(e,...t){return typeof e=="function"?e(...t):e}function xt(e){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:yn,canceled:!1,memo:void 0,args:void 0,...e}}function fe(){const e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=xt({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),o=xt({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),n=xt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),r=xt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=xt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:o,wheel:n,move:r,scroll:i}}var tr=Object.defineProperty,er=(e,t,o)=>t in e?tr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Y=(e,t,o)=>(er(e,typeof t!="symbol"?t+"":t,o),o);class nr{constructor(t){this.classes=t,Y(this,"nativeRefs"),Y(this,"config"),Y(this,"handlers"),Y(this,"state"),Y(this,"timeouts"),Y(this,"domListeners"),Y(this,"windowListeners"),Y(this,"pointerIds",new Set),Y(this,"touchIds",new Set),Y(this,"supportsTouchEvents",gn()),Y(this,"supportsGestureEvents",Zn()),Y(this,"bind",(...o)=>{const n={};for(let r of this.classes)new r(this,o).addBindings(n);for(let r in this.nativeRefs)st(n,r,i=>this.nativeRefs[r]({...this.state.shared,event:i,args:o}));return this.config.domTarget?cr(this,n):lr(this,n)}),Y(this,"clean",()=>{const{eventOptions:o,domTarget:n}=this.config,r=l(n);r&&It(r,_n(this.domListeners),o),Object.values(this.timeouts).forEach(clearTimeout),ir(this)}),Y(this,"reset",()=>{this.state=fe()}),this.classes=t,this.state=fe(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function rr(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(pn(t))}function or(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):pn(t).forEach(o=>e.touchIds.delete(o))}function ir(e){const{config:{window:t,eventOptions:o},windowListeners:n}=e,r=l(t);if(r){for(let i in n){const s=n[i];It(r,s,o)}e.windowListeners={}}}function sr({config:e,windowListeners:t},o,n=e.eventOptions){const r=l(e.window);r&&(It(r,t[o],n),delete t[o])}function ar({config:e,windowListeners:t},o,n=[],r=e.eventOptions){const i=l(e.window);i&&(It(i,t[o],r),wn(i,t[o]=n,r))}function cr({config:e,domListeners:t},o){const{eventOptions:n,domTarget:r}=e,i=l(r);if(!i)throw new Error("domTarget must be defined");It(i,_n(t),n);for(let[s,a]of Object.entries(o)){const c=s.slice(2).toLowerCase();t.push([c,vn(...a)])}wn(i,t,n)}function lr({config:e},t){const o={},n=e.eventOptions.capture?"Capture":"";for(let[r,i]of Object.entries(t)){const s=Array.isArray(i)?i:[i],a=r+n;o[a]=vn(...s)}return o}function _n(e=[]){return e.splice(0,e.length)}function st(e,t,o){e[t]||(e[t]=[]),e[t].push(o)}function wn(e,t=[],o={}){if(e)for(let[n,r]of t)e.addEventListener(n,r,o)}function It(e,t=[],o={}){if(e)for(let[n,r]of t)e.removeEventListener(n,r,o)}function he(e,t){return e.map((o,n)=>o+t[n])}function bn(e,t){return e.map((o,n)=>o-t[n])}function ge(e){return Math.hypot(...e)}function ur(e,t,o){const n=ge(t),r=n===0?0:1/n,i=o===0?0:1/o,s=i*n,a=t.map(f=>i*f),c=t.map(f=>r*f),u=ge(e);return{velocities:a,velocity:s,distance:u,direction:c}}function me(e){return Math.sign?Math.sign(e):+(e>0)-+(e<0)||+e}function dr(e,t,o){return Math.max(t,Math.min(e,o))}function fr(e,t){return Math.pow(e,t*5)}function Be(e,t,o){return t===0||Math.abs(t)===1/0?fr(e,o):e*t*o/(t+o*e)}function Ae(e,t,o,n=.15){return n===0?dr(e,t,o):e<t?-Be(t-e,o-t,n)+t:e>o?+Be(e-o,o-t,n)+o:e}var hr=Object.defineProperty,gr=(e,t,o)=>t in e?hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Mt=(e,t,o)=>(gr(e,typeof t!="symbol"?t+"":t,o),o);const gt=new Map,mr=e=>e;class pr{constructor(t,o=[]){this.controller=t,this.args=o,Mt(this,"debounced",!0),Mt(this,"setTimeout",(n,r=140,...i)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(n,r,...i)}),Mt(this,"clearTimeout",()=>{clearTimeout(this.controller.timeouts[this.stateKey])}),Mt(this,"fireGestureHandler",(n=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!n&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const c=this.state.active,u=this.state._active;this.state.active=u,this.state.first=u&&!c,this.state.last=c&&!u,this.controller.state.shared[this.ingKey]=u}const r=this.controller.pointerIds.size||this.controller.touchIds.size,i=this.controller.state.shared.buttons>0||r>0,s={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:r,down:i},a=this.handler(s);return this.state.memo=a!==void 0?a:this.state.memo,s}),this.controller=t,this.args=o}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||mr}updateSharedState(t){Object.assign(this.controller.state.shared,t)}updateGestureState(t){Object.assign(this.state,t)}checkIntentionality(t,o){return{_intentional:t,_blocked:!1}}getMovement(t){const{rubberband:o,threshold:n}=this.config,{_bounds:r,_initial:i,_active:s,_intentional:a,lastOffset:c,movement:u}=this.state,f=this.getInternalMovement(t,this.state),v=this.transform(n).map(Math.abs),h=a[0]===!1?Re(f[0],v[0]):a[0],p=a[1]===!1?Re(f[1],v[1]):a[1],x=this.checkIntentionality([h,p],f);if(x._blocked)return{...x,_movement:f,delta:[0,0]};const C=x._intentional,q=f;let D=[C[0]!==!1?f[0]-C[0]:0,C[1]!==!1?f[1]-C[1]:0];const N=he(D,c),A=s?o:[0,0];return D=Le(r,he(D,i),A),{...x,intentional:C[0]!==!1||C[1]!==!1,_initial:i,_movement:q,movement:D,values:t,offset:Le(r,N,A),delta:bn(D,u)}}clean(){this.clearTimeout()}}function Re(e,t){return Math.abs(e)>=t?me(e)*t:!1}function Le(e,[t,o],[n,r]){const[[i,s],[a,c]]=e;return[Ae(t,i,s,n),Ae(o,a,c,r)]}function Vt({state:e},t,o){const{timeStamp:n,type:r}=t,i=e.values,s=o?0:n-e.startTime;return{_lastEventType:r,event:t,timeStamp:n,elapsedTime:s,previous:i}}function yr({state:e,config:t,stateKey:o,args:n},r,i){const s=e.offset,a=i.timeStamp,{initial:c,bounds:u}=t,f={...fe()[o],_active:!0,args:n,values:r,initial:r,offset:s,lastOffset:s,startTime:a};return{...f,_initial:Me(c,f),_bounds:Me(u,f)}}class vr extends pr{getInternalMovement(t,o){return bn(t,o.initial)}checkIntentionality(t,o){if(t[0]===!1&&t[1]===!1)return{_intentional:t,axis:this.state.axis};const[n,r]=o.map(Math.abs),i=this.state.axis||(n>r?"x":n<r?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:t,_blocked:!1,axis:i}:i?this.config.axis&&i!==this.config.axis?{_intentional:t,_blocked:!0,axis:i}:(t[i==="x"?1:0]=!1,{_intentional:t,_blocked:!1,axis:i}):{_intentional:[!1,!1],_blocked:!1,axis:i}}getKinematics(t,o){const n=this.getMovement(t);if(!n._blocked){const r=o.timeStamp-this.state.timeStamp;Object.assign(n,ur(n.movement,n.delta,r))}return n}mapStateValues(t){return{xy:t.values,vxvy:t.velocities}}}var _r=Object.defineProperty,wr=(e,t,o)=>t in e?_r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,G=(e,t,o)=>(wr(e,typeof t!="symbol"?t+"":t,o),o);const br=3;function Ne(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}class Cr extends vr{constructor(){super(...arguments),G(this,"ingKey","dragging"),G(this,"stateKey","drag"),G(this,"setPointerCapture",t=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:o,pointerId:n}=t;o&&"setPointerCapture"in o&&o.setPointerCapture(n),this.updateGestureState({_dragTarget:o,_dragPointerId:n})}),G(this,"releasePointerCapture",()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:t,_dragPointerId:o}=this.state;if(o&&t&&"releasePointerCapture"in t&&(!("hasPointerCapture"in t)||t.hasPointerCapture(o)))try{t.releasePointerCapture(o)}catch{}}),G(this,"preventScroll",t=>{this.state._dragPreventScroll&&t.cancelable&&t.preventDefault()}),G(this,"getEventId",t=>this.config.useTouch?t.changedTouches[0].identifier:t.pointerId),G(this,"isValidEvent",t=>this.state._pointerId===this.getEventId(t)),G(this,"shouldPreventWindowScrollY",this.config.preventWindowScrollY&&this.controller.supportsTouchEvents),G(this,"setUpWindowScrollDetection",t=>{Ne(t),ar(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,t)}),G(this,"setUpDelayedDragTrigger",t=>{this.state._dragDelayed=!0,Ne(t),this.setTimeout(this.startDrag.bind(this),this.config.delay,t)}),G(this,"setStartState",t=>{const o=Pe(t,this.transform);this.updateSharedState(Se(t)),this.updateGestureState({...yr(this,o,t),...Vt(this,t,!0),_pointerId:this.getEventId(t)}),this.updateGestureState(this.getMovement(o))}),G(this,"onDragStart",t=>{rr(this.controller,t),!(!this.enabled||this.state._active)&&(this.setStartState(t),this.setPointerCapture(t),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(t):this.config.delay>0?this.setUpDelayedDragTrigger(t):this.startDrag(t,!0))}),G(this,"onDragChange",t=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(t)||this.state._lastEventType===t.type&&t.timeStamp===this.state.timeStamp)return;let o;if(document.pointerLockElement){const{movementX:c,movementY:u}=t;o=he(this.transform([c,u]),this.state.values)}else o=Pe(t,this.transform);const n=this.getKinematics(o,t);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(t);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&n.axis)if(n.axis==="x")this.startDrag(t);else{this.state._active=!1;return}else return;else return}const r=Se(t);this.updateSharedState(r);const i=Vt(this,t),s=ge(n._movement);let{_dragIsTap:a}=this.state;a&&s>=br&&(a=!1),this.updateGestureState({...i,...n,_dragIsTap:a}),this.fireGestureHandler()}),G(this,"onDragEnd",t=>{if(or(this.controller,t),!this.isValidEvent(t)||(this.clean(),!this.state._active))return;this.state._active=!1;const o=this.state._dragIsTap,[n,r]=this.state.velocities,[i,s]=this.state.movement,[a,c]=this.state._intentional,[u,f]=this.config.swipeVelocity,[v,h]=this.config.swipeDistance,p=this.config.swipeDuration,x={...Vt(this,t),...this.getMovement(this.state.values)},C=[0,0];x.elapsedTime<p&&(a!==!1&&Math.abs(n)>u&&Math.abs(i)>v&&(C[0]=me(n)),c!==!1&&Math.abs(r)>f&&Math.abs(s)>h&&(C[1]=me(r))),this.updateSharedState({buttons:0}),this.updateGestureState({...x,tap:o,swipe:C}),this.fireGestureHandler(this.config.filterTaps&&o===!0)}),G(this,"clean",()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),sr(this.controller,this.stateKey)}),G(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),On(this.fireGestureHandler))}),G(this,"onClick",t=>{this.state._dragIsTap||t.stopPropagation()})}startDrag(t,o=!1){!this.state._active||this.state._dragStarted||(o||this.setStartState(t),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(t){if(this.config.useTouch?(st(t,"onTouchStart",this.onDragStart),st(t,"onTouchMove",this.onDragChange),st(t,"onTouchEnd",this.onDragEnd),st(t,"onTouchCancel",this.onDragEnd)):(st(t,"onPointerDown",this.onDragStart),st(t,"onPointerMove",this.onDragChange),st(t,"onPointerUp",this.onDragEnd),st(t,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const o=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";st(t,o,this.onClick)}}}function kr(e,t){let o,n=[],r,i=!1;function s(...a){return i&&o===this&&t(a,n)||(r=e.apply(this,a),i=!0,o=this,n=a),r}return s}function At(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let o,n,r;if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;n--!==0;)if(!At(e[n],t[n]))return!1;return!0}let i;if(typeof Map=="function"&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!At(n.value[1],t.get(n.value[0])))return!1;return!0}if(typeof Set=="function"&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(r=Object.keys(e),o=r.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[n]))return!1;if(typeof Element<"u"&&e instanceof Element)return!1;for(n=o;n--!==0;)if(!(r[n]==="_owner"&&e.$$typeof)&&!At(e[r[n]],t[r[n]]))return!1;return!0}return e!==e&&t!==t}function Er(e,t){try{return At(e,t)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}}function pe(e={},t){const o={};for(const[n,r]of Object.entries(t))switch(typeof r){case"function":o[n]=r.call(o,e[n],n,e);break;case"object":o[n]=pe(e[n],r);break;case"boolean":r&&(o[n]=e[n]);break}return o}const xr=180,Dr=.15,Ir=.5,Tr=50,Sr=250,Pr={threshold(e=0){return ut(e)},rubberband(e=0){switch(e){case!0:return ut(Dr);case!1:return ut(0);default:return ut(e)}},enabled(e=!0){return e},triggerAllEvents(e=!1){return e},initial(e=0){return typeof e=="function"?e:ut(e)},transform:!0},Cn={...Pr,axis:!0,lockDirection(e=!1){return e},bounds(e={}){if(typeof e=="function")return i=>Cn.bounds(e(i));const{left:t=-1/0,right:o=1/0,top:n=-1/0,bottom:r=1/0}=e;return[[t,o],[n,r]]}},Mr=typeof window<"u"&&window.document&&window.document.createElement,Br={enabled(e=!0){return e},domTarget:!0,window(e=Mr?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform:!0},Ar={...Cn,useTouch(e=!0){return e&&gn()},preventWindowScrollY(e=!1){return e},threshold(e,t,{filterTaps:o=!1,lockDirection:n=!1,axis:r=void 0}){const i=ut(e,o?3:n||r?1:0);return this.filterTaps=o,i},swipeVelocity(e=Ir){return ut(e)},swipeDistance(e=Tr){return ut(e)},swipeDuration(e=Sr){return e},delay(e=0){switch(e){case!0:return xr;case!1:return 0;default:return e}}};function Rr(e){return pe(e,Br)}function Lr(e={}){return pe(e,Ar)}function Nr({domTarget:e,eventOptions:t,window:o,enabled:n,...r}){const i=Rr({domTarget:e,eventOptions:t,window:o,enabled:n});return i.drag=Lr(r),i}function Ur(e,t,o={}){const n=Fr(e),r=new nr(n);return r.config=t,r.handlers=e,r.nativeRefs=o,Fn()&&!t.manual&&(fn(r.bind),hn(r.clean)),r}function Fr(e){const t=new Set;return e.drag&&t.add(gt.get("drag")),e.wheel&&t.add(gt.get("wheel")),e.scroll&&t.add(gt.get("scroll")),e.move&&t.add(gt.get("move")),e.pinch&&t.add(gt.get("pinch")),e.hover&&t.add(gt.get("hover")),t}function Or(e,t={}){gt.set("drag",Cr);const o=$();return o.value||(o.value=kr(Nr,Er)),Ur({drag:e},o.value(t))}function qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _t={},Kt,Ue;function zr(){return Ue||(Ue=1,Kt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Kt}var jt={},lt={},Fe;function mt(){if(Fe)return lt;Fe=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return lt.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},lt.getSymbolTotalCodewords=function(n){return t[n]},lt.getBCHDigit=function(o){let n=0;for(;o!==0;)n++,o>>>=1;return n},lt.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');e=n},lt.isKanjiModeEnabled=function(){return typeof e<"u"},lt.toSJIS=function(n){return e(n)},lt}var Gt={},Oe;function ye(){return Oe||(Oe=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+o)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,r){if(e.isValid(n))return n;try{return t(n)}catch{return r}}})(Gt)),Gt}var Ht,qe;function Vr(){if(qe)return Ht;qe=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const o=Math.floor(t/8);return(this.buffer[o]>>>7-t%8&1)===1},put:function(t,o){for(let n=0;n<o;n++)this.putBit((t>>>o-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),t&&(this.buffer[o]|=128>>>this.length%8),this.length++}},Ht=e,Ht}var Yt,ze;function Kr(){if(ze)return Yt;ze=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,o,n,r){const i=t*this.size+o;this.data[i]=n,r&&(this.reservedBit[i]=!0)},e.prototype.get=function(t,o){return this.data[t*this.size+o]},e.prototype.xor=function(t,o,n){this.data[t*this.size+o]^=n},e.prototype.isReserved=function(t,o){return this.reservedBit[t*this.size+o]},Yt=e,Yt}var Jt={},Ve;function jr(){return Ve||(Ve=1,(function(e){const t=mt().getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const r=Math.floor(n/7)+2,i=t(n),s=i===145?26:Math.ceil((i-13)/(2*r-2))*2,a=[i-7];for(let c=1;c<r-1;c++)a[c]=a[c-1]-s;return a.push(6),a.reverse()},e.getPositions=function(n){const r=[],i=e.getRowColCoords(n),s=i.length;for(let a=0;a<s;a++)for(let c=0;c<s;c++)a===0&&c===0||a===0&&c===s-1||a===s-1&&c===0||r.push([i[a],i[c]]);return r}})(Jt)),Jt}var Wt={},Ke;function Gr(){if(Ke)return Wt;Ke=1;const e=mt().getSymbolSize,t=7;return Wt.getPositions=function(n){const r=e(n);return[[0,0],[r-t,0],[0,r-t]]},Wt}var Qt={},je;function Hr(){return je||(je=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},e.from=function(r){return e.isValid(r)?parseInt(r,10):void 0},e.getPenaltyN1=function(r){const i=r.size;let s=0,a=0,c=0,u=null,f=null;for(let v=0;v<i;v++){a=c=0,u=f=null;for(let h=0;h<i;h++){let p=r.get(v,h);p===u?a++:(a>=5&&(s+=t.N1+(a-5)),u=p,a=1),p=r.get(h,v),p===f?c++:(c>=5&&(s+=t.N1+(c-5)),f=p,c=1)}a>=5&&(s+=t.N1+(a-5)),c>=5&&(s+=t.N1+(c-5))}return s},e.getPenaltyN2=function(r){const i=r.size;let s=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const u=r.get(a,c)+r.get(a,c+1)+r.get(a+1,c)+r.get(a+1,c+1);(u===4||u===0)&&s++}return s*t.N2},e.getPenaltyN3=function(r){const i=r.size;let s=0,a=0,c=0;for(let u=0;u<i;u++){a=c=0;for(let f=0;f<i;f++)a=a<<1&2047|r.get(u,f),f>=10&&(a===1488||a===93)&&s++,c=c<<1&2047|r.get(f,u),f>=10&&(c===1488||c===93)&&s++}return s*t.N3},e.getPenaltyN4=function(r){let i=0;const s=r.data.length;for(let c=0;c<s;c++)i+=r.data[c];return Math.abs(Math.ceil(i*100/s/5)-10)*t.N4};function o(n,r,i){switch(n){case e.Patterns.PATTERN000:return(r+i)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(r+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return r*i%2+r*i%3===0;case e.Patterns.PATTERN110:return(r*i%2+r*i%3)%2===0;case e.Patterns.PATTERN111:return(r*i%3+(r+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(r,i){const s=i.size;for(let a=0;a<s;a++)for(let c=0;c<s;c++)i.isReserved(c,a)||i.xor(c,a,o(r,c,a))},e.getBestMask=function(r,i){const s=Object.keys(e.Patterns).length;let a=0,c=1/0;for(let u=0;u<s;u++){i(u),e.applyMask(u,r);const f=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(u,r),f<c&&(c=f,a=u)}return a}})(Qt)),Qt}var Bt={},Ge;function kn(){if(Ge)return Bt;Ge=1;const e=ye(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Bt.getBlocksCount=function(r,i){switch(i){case e.L:return t[(r-1)*4+0];case e.M:return t[(r-1)*4+1];case e.Q:return t[(r-1)*4+2];case e.H:return t[(r-1)*4+3];default:return}},Bt.getTotalCodewordsCount=function(r,i){switch(i){case e.L:return o[(r-1)*4+0];case e.M:return o[(r-1)*4+1];case e.Q:return o[(r-1)*4+2];case e.H:return o[(r-1)*4+3];default:return}},Bt}var Xt={},Dt={},He;function Yr(){if(He)return Dt;He=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let n=1;for(let r=0;r<255;r++)e[r]=n,t[n]=r,n<<=1,n&256&&(n^=285);for(let r=255;r<512;r++)e[r]=e[r-255]})(),Dt.log=function(n){if(n<1)throw new Error("log("+n+")");return t[n]},Dt.exp=function(n){return e[n]},Dt.mul=function(n,r){return n===0||r===0?0:e[t[n]+t[r]]},Dt}var Ye;function Jr(){return Ye||(Ye=1,(function(e){const t=Yr();e.mul=function(n,r){const i=new Uint8Array(n.length+r.length-1);for(let s=0;s<n.length;s++)for(let a=0;a<r.length;a++)i[s+a]^=t.mul(n[s],r[a]);return i},e.mod=function(n,r){let i=new Uint8Array(n);for(;i.length-r.length>=0;){const s=i[0];for(let c=0;c<r.length;c++)i[c]^=t.mul(r[c],s);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},e.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let i=0;i<n;i++)r=e.mul(r,new Uint8Array([1,t.exp(i)]));return r}})(Xt)),Xt}var Zt,Je;function Wr(){if(Je)return Zt;Je=1;const e=Jr();function t(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(n){this.degree=n,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(n.length+this.degree);r.set(n);const i=e.mod(r,this.genPoly),s=this.degree-i.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(i,s),a}return i},Zt=t,Zt}var $t={},te={},ee={},We;function En(){return We||(We=1,ee.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),ee}var it={},Qe;function xn(){if(Qe)return it;Qe=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+`)(?:.|[\r
]))+`;it.KANJI=new RegExp(o,"g"),it.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),it.BYTE=new RegExp(n,"g"),it.NUMERIC=new RegExp(e,"g"),it.ALPHANUMERIC=new RegExp(t,"g");const r=new RegExp("^"+o+"$"),i=new RegExp("^"+e+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return it.testKanji=function(c){return r.test(c)},it.testNumeric=function(c){return i.test(c)},it.testAlphanumeric=function(c){return s.test(c)},it}var Xe;function pt(){return Xe||(Xe=1,(function(e){const t=En(),o=xn();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,s){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?i.ccBits[0]:s<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return o.testNumeric(i)?e.NUMERIC:o.testAlphanumeric(i)?e.ALPHANUMERIC:o.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+r)}}e.from=function(i,s){if(e.isValid(i))return i;try{return n(i)}catch{return s}}})(te)),te}var Ze;function Qr(){return Ze||(Ze=1,(function(e){const t=mt(),o=kn(),n=ye(),r=pt(),i=En(),s=7973,a=t.getBCHDigit(s);function c(h,p,x){for(let C=1;C<=40;C++)if(p<=e.getCapacity(C,x,h))return C}function u(h,p){return r.getCharCountIndicator(h,p)+4}function f(h,p){let x=0;return h.forEach(function(C){const q=u(C.mode,p);x+=q+C.getBitsLength()}),x}function v(h,p){for(let x=1;x<=40;x++)if(f(h,x)<=e.getCapacity(x,p,r.MIXED))return x}e.from=function(p,x){return i.isValid(p)?parseInt(p,10):x},e.getCapacity=function(p,x,C){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=r.BYTE);const q=t.getSymbolTotalCodewords(p),D=o.getTotalCodewordsCount(p,x),N=(q-D)*8;if(C===r.MIXED)return N;const A=N-u(C,p);switch(C){case r.NUMERIC:return Math.floor(A/10*3);case r.ALPHANUMERIC:return Math.floor(A/11*2);case r.KANJI:return Math.floor(A/13);case r.BYTE:default:return Math.floor(A/8)}},e.getBestVersionForData=function(p,x){let C;const q=n.from(x,n.M);if(Array.isArray(p)){if(p.length>1)return v(p,q);if(p.length===0)return 1;C=p[0]}else C=p;return c(C.mode,C.getLength(),q)},e.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let x=p<<12;for(;t.getBCHDigit(x)-a>=0;)x^=s<<t.getBCHDigit(x)-a;return p<<12|x}})($t)),$t}var ne={},$e;function Xr(){if($e)return ne;$e=1;const e=mt(),t=1335,o=21522,n=e.getBCHDigit(t);return ne.getEncodedBits=function(i,s){const a=i.bit<<3|s;let c=a<<10;for(;e.getBCHDigit(c)-n>=0;)c^=t<<e.getBCHDigit(c)-n;return(a<<10|c)^o},ne}var re={},oe,tn;function Zr(){if(tn)return oe;tn=1;const e=pt();function t(o){this.mode=e.NUMERIC,this.data=o.toString()}return t.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let r,i,s;for(r=0;r+3<=this.data.length;r+=3)i=this.data.substr(r,3),s=parseInt(i,10),n.put(s,10);const a=this.data.length-r;a>0&&(i=this.data.substr(r),s=parseInt(i,10),n.put(s,a*3+1))},oe=t,oe}var ie,en;function $r(){if(en)return ie;en=1;const e=pt(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(n){this.mode=e.ALPHANUMERIC,this.data=n}return o.getBitsLength=function(r){return 11*Math.floor(r/2)+6*(r%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(r){let i;for(i=0;i+2<=this.data.length;i+=2){let s=t.indexOf(this.data[i])*45;s+=t.indexOf(this.data[i+1]),r.put(s,11)}this.data.length%2&&r.put(t.indexOf(this.data[i]),6)},ie=o,ie}var se,nn;function to(){if(nn)return se;nn=1;const e=pt();function t(o){this.mode=e.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}return t.getBitsLength=function(n){return n*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(o){for(let n=0,r=this.data.length;n<r;n++)o.put(this.data[n],8)},se=t,se}var ae,rn;function eo(){if(rn)return ae;rn=1;const e=pt(),t=mt();function o(n){this.mode=e.KANJI,this.data=n}return o.getBitsLength=function(r){return r*13},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(n){let r;for(r=0;r<this.data.length;r++){let i=t.toSJIS(this.data[r]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[r]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),n.put(i,13)}},ae=o,ae}var ce={exports:{}},on;function no(){return on||(on=1,(function(e){var t={single_source_shortest_paths:function(o,n,r){var i={},s={};s[n]=0;var a=t.PriorityQueue.make();a.push(n,0);for(var c,u,f,v,h,p,x,C,q;!a.empty();){c=a.pop(),u=c.value,v=c.cost,h=o[u]||{};for(f in h)h.hasOwnProperty(f)&&(p=h[f],x=v+p,C=s[f],q=typeof s[f]>"u",(q||C>x)&&(s[f]=x,a.push(f,x),i[f]=u))}if(typeof r<"u"&&typeof s[r]>"u"){var D=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(D)}return i},extract_shortest_path_from_predecessor_list:function(o,n){for(var r=[],i=n;i;)r.push(i),o[i],i=o[i];return r.reverse(),r},find_path:function(o,n,r){var i=t.single_source_shortest_paths(o,n,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(o){var n=t.PriorityQueue,r={},i;o=o||{};for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r.queue=[],r.sorter=o.sorter||n.default_sorter,r},default_sorter:function(o,n){return o.cost-n.cost},push:function(o,n){var r={value:o,cost:n};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(ce)),ce.exports}var sn;function ro(){return sn||(sn=1,(function(e){const t=pt(),o=Zr(),n=$r(),r=to(),i=eo(),s=xn(),a=mt(),c=no();function u(D){return unescape(encodeURIComponent(D)).length}function f(D,N,A){const T=[];let K;for(;(K=D.exec(A))!==null;)T.push({data:K[0],index:K.index,mode:N,length:K[0].length});return T}function v(D){const N=f(s.NUMERIC,t.NUMERIC,D),A=f(s.ALPHANUMERIC,t.ALPHANUMERIC,D);let T,K;return a.isKanjiModeEnabled()?(T=f(s.BYTE,t.BYTE,D),K=f(s.KANJI,t.KANJI,D)):(T=f(s.BYTE_KANJI,t.BYTE,D),K=[]),N.concat(A,T,K).sort(function(S,P){return S.index-P.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function h(D,N){switch(N){case t.NUMERIC:return o.getBitsLength(D);case t.ALPHANUMERIC:return n.getBitsLength(D);case t.KANJI:return i.getBitsLength(D);case t.BYTE:return r.getBitsLength(D)}}function p(D){return D.reduce(function(N,A){const T=N.length-1>=0?N[N.length-1]:null;return T&&T.mode===A.mode?(N[N.length-1].data+=A.data,N):(N.push(A),N)},[])}function x(D){const N=[];for(let A=0;A<D.length;A++){const T=D[A];switch(T.mode){case t.NUMERIC:N.push([T,{data:T.data,mode:t.ALPHANUMERIC,length:T.length},{data:T.data,mode:t.BYTE,length:T.length}]);break;case t.ALPHANUMERIC:N.push([T,{data:T.data,mode:t.BYTE,length:T.length}]);break;case t.KANJI:N.push([T,{data:T.data,mode:t.BYTE,length:u(T.data)}]);break;case t.BYTE:N.push([{data:T.data,mode:t.BYTE,length:u(T.data)}])}}return N}function C(D,N){const A={},T={start:{}};let K=["start"];for(let b=0;b<D.length;b++){const S=D[b],P=[];for(let _=0;_<S.length;_++){const B=S[_],I=""+b+_;P.push(I),A[I]={node:B,lastCount:0},T[I]={};for(let M=0;M<K.length;M++){const E=K[M];A[E]&&A[E].node.mode===B.mode?(T[E][I]=h(A[E].lastCount+B.length,B.mode)-h(A[E].lastCount,B.mode),A[E].lastCount+=B.length):(A[E]&&(A[E].lastCount=B.length),T[E][I]=h(B.length,B.mode)+4+t.getCharCountIndicator(B.mode,N))}}K=P}for(let b=0;b<K.length;b++)T[K[b]].end=0;return{map:T,table:A}}function q(D,N){let A;const T=t.getBestModeForData(D);if(A=t.from(N,T),A!==t.BYTE&&A.bit<T.bit)throw new Error('"'+D+'" cannot be encoded with mode '+t.toString(A)+`.
 Suggested mode is: `+t.toString(T));switch(A===t.KANJI&&!a.isKanjiModeEnabled()&&(A=t.BYTE),A){case t.NUMERIC:return new o(D);case t.ALPHANUMERIC:return new n(D);case t.KANJI:return new i(D);case t.BYTE:return new r(D)}}e.fromArray=function(N){return N.reduce(function(A,T){return typeof T=="string"?A.push(q(T,null)):T.data&&A.push(q(T.data,T.mode)),A},[])},e.fromString=function(N,A){const T=v(N,a.isKanjiModeEnabled()),K=x(T),b=C(K,A),S=c.find_path(b.map,"start","end"),P=[];for(let _=1;_<S.length-1;_++)P.push(b.table[S[_]].node);return e.fromArray(p(P))},e.rawSplit=function(N){return e.fromArray(v(N,a.isKanjiModeEnabled()))}})(re)),re}var an;function oo(){if(an)return jt;an=1;const e=mt(),t=ye(),o=Vr(),n=Kr(),r=jr(),i=Gr(),s=Hr(),a=kn(),c=Wr(),u=Qr(),f=Xr(),v=pt(),h=ro();function p(b,S){const P=b.size,_=i.getPositions(S);for(let B=0;B<_.length;B++){const I=_[B][0],M=_[B][1];for(let E=-1;E<=7;E++)if(!(I+E<=-1||P<=I+E))for(let L=-1;L<=7;L++)M+L<=-1||P<=M+L||(E>=0&&E<=6&&(L===0||L===6)||L>=0&&L<=6&&(E===0||E===6)||E>=2&&E<=4&&L>=2&&L<=4?b.set(I+E,M+L,!0,!0):b.set(I+E,M+L,!1,!0))}}function x(b){const S=b.size;for(let P=8;P<S-8;P++){const _=P%2===0;b.set(P,6,_,!0),b.set(6,P,_,!0)}}function C(b,S){const P=r.getPositions(S);for(let _=0;_<P.length;_++){const B=P[_][0],I=P[_][1];for(let M=-2;M<=2;M++)for(let E=-2;E<=2;E++)M===-2||M===2||E===-2||E===2||M===0&&E===0?b.set(B+M,I+E,!0,!0):b.set(B+M,I+E,!1,!0)}}function q(b,S){const P=b.size,_=u.getEncodedBits(S);let B,I,M;for(let E=0;E<18;E++)B=Math.floor(E/3),I=E%3+P-8-3,M=(_>>E&1)===1,b.set(B,I,M,!0),b.set(I,B,M,!0)}function D(b,S,P){const _=b.size,B=f.getEncodedBits(S,P);let I,M;for(I=0;I<15;I++)M=(B>>I&1)===1,I<6?b.set(I,8,M,!0):I<8?b.set(I+1,8,M,!0):b.set(_-15+I,8,M,!0),I<8?b.set(8,_-I-1,M,!0):I<9?b.set(8,15-I-1+1,M,!0):b.set(8,15-I-1,M,!0);b.set(_-8,8,1,!0)}function N(b,S){const P=b.size;let _=-1,B=P-1,I=7,M=0;for(let E=P-1;E>0;E-=2)for(E===6&&E--;;){for(let L=0;L<2;L++)if(!b.isReserved(B,E-L)){let ot=!1;M<S.length&&(ot=(S[M]>>>I&1)===1),b.set(B,E-L,ot),I--,I===-1&&(M++,I=7)}if(B+=_,B<0||P<=B){B-=_,_=-_;break}}}function A(b,S,P){const _=new o;P.forEach(function(L){_.put(L.mode.bit,4),_.put(L.getLength(),v.getCharCountIndicator(L.mode,b)),L.write(_)});const B=e.getSymbolTotalCodewords(b),I=a.getTotalCodewordsCount(b,S),M=(B-I)*8;for(_.getLengthInBits()+4<=M&&_.put(0,4);_.getLengthInBits()%8!==0;)_.putBit(0);const E=(M-_.getLengthInBits())/8;for(let L=0;L<E;L++)_.put(L%2?17:236,8);return T(_,b,S)}function T(b,S,P){const _=e.getSymbolTotalCodewords(S),B=a.getTotalCodewordsCount(S,P),I=_-B,M=a.getBlocksCount(S,P),E=_%M,L=M-E,ot=Math.floor(_/M),dt=Math.floor(I/M),Lt=dt+1,Tt=ot-dt,Nt=new c(Tt);let wt=0;const yt=new Array(M),vt=new Array(M);let ft=0;const Ut=new Uint8Array(b.buffer);for(let at=0;at<M;at++){const Ct=at<L?dt:Lt;yt[at]=Ut.slice(wt,wt+Ct),vt[at]=Nt.encode(yt[at]),wt+=Ct,ft=Math.max(ft,Ct)}const bt=new Uint8Array(_);let St=0,Q,tt;for(Q=0;Q<ft;Q++)for(tt=0;tt<M;tt++)Q<yt[tt].length&&(bt[St++]=yt[tt][Q]);for(Q=0;Q<Tt;Q++)for(tt=0;tt<M;tt++)bt[St++]=vt[tt][Q];return bt}function K(b,S,P,_){let B;if(Array.isArray(b))B=h.fromArray(b);else if(typeof b=="string"){let ot=S;if(!ot){const dt=h.rawSplit(b);ot=u.getBestVersionForData(dt,P)}B=h.fromString(b,ot||40)}else throw new Error("Invalid data");const I=u.getBestVersionForData(B,P);if(!I)throw new Error("The amount of data is too big to be stored in a QR Code");if(!S)S=I;else if(S<I)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+I+`.
`);const M=A(S,P,B),E=e.getSymbolSize(S),L=new n(E);return p(L,S),x(L),C(L,S),D(L,P,0),S>=7&&q(L,S),N(L,M),isNaN(_)&&(_=s.getBestMask(L,D.bind(null,L,P))),s.applyMask(_,L),D(L,P,_),{modules:L,version:S,errorCorrectionLevel:P,maskPattern:_,segments:B}}return jt.create=function(S,P){if(typeof S>"u"||S==="")throw new Error("No input text");let _=t.M,B,I;return typeof P<"u"&&(_=t.from(P.errorCorrectionLevel,t.M),B=u.from(P.version),I=s.from(P.maskPattern),P.toSJISFunc&&e.setToSJISFunction(P.toSJISFunc)),K(S,B,_,I)},jt}var le={},ue={},cn;function Dn(){return cn||(cn=1,(function(e){function t(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let n=o.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+o);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const r=parseInt(n.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const r=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:i,scale:i?4:s,margin:r,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,r){return r.width&&r.width>=n+r.margin*2?r.width/(n+r.margin*2):r.scale},e.getImageWidth=function(n,r){const i=e.getScale(n,r);return Math.floor((n+r.margin*2)*i)},e.qrToImageData=function(n,r,i){const s=r.modules.size,a=r.modules.data,c=e.getScale(s,i),u=Math.floor((s+i.margin*2)*c),f=i.margin*c,v=[i.color.light,i.color.dark];for(let h=0;h<u;h++)for(let p=0;p<u;p++){let x=(h*u+p)*4,C=i.color.light;if(h>=f&&p>=f&&h<u-f&&p<u-f){const q=Math.floor((h-f)/c),D=Math.floor((p-f)/c);C=v[a[q*s+D]?1:0]}n[x++]=C.r,n[x++]=C.g,n[x++]=C.b,n[x]=C.a}}})(ue)),ue}var ln;function io(){return ln||(ln=1,(function(e){const t=Dn();function o(r,i,s){r.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,s,a){let c=a,u=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(u=n()),c=t.getOptions(c);const f=t.getImageWidth(i.modules.size,c),v=u.getContext("2d"),h=v.createImageData(f,f);return t.qrToImageData(h.data,i,c),o(v,u,f),v.putImageData(h,0,0),u},e.renderToDataURL=function(i,s,a){let c=a;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const u=e.render(i,s,c),f=c.type||"image/png",v=c.rendererOpts||{};return u.toDataURL(f,v.quality)}})(le)),le}var de={},un;function so(){if(un)return de;un=1;const e=Dn();function t(r,i){const s=r.a/255,a=i+'="'+r.hex+'"';return s<1?a+" "+i+'-opacity="'+s.toFixed(2).slice(1)+'"':a}function o(r,i,s){let a=r+i;return typeof s<"u"&&(a+=" "+s),a}function n(r,i,s){let a="",c=0,u=!1,f=0;for(let v=0;v<r.length;v++){const h=Math.floor(v%i),p=Math.floor(v/i);!h&&!u&&(u=!0),r[v]?(f++,v>0&&h>0&&r[v-1]||(a+=u?o("M",h+s,.5+p+s):o("m",c,0),c=0,u=!1),h+1<i&&r[v+1]||(a+=o("h",f),f=0)):c++}return a}return de.render=function(i,s,a){const c=e.getOptions(s),u=i.modules.size,f=i.modules.data,v=u+c.margin*2,h=c.color.light.a?"<path "+t(c.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",p="<path "+t(c.color.dark,"stroke")+' d="'+n(f,u,c.margin)+'"/>',x='viewBox="0 0 '+v+" "+v+'"',q='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+x+' shape-rendering="crispEdges">'+h+p+`</svg>
`;return typeof a=="function"&&a(null,q),q},de}var dn;function ao(){if(dn)return _t;dn=1;const e=zr(),t=oo(),o=io(),n=so();function r(i,s,a,c,u){const f=[].slice.call(arguments,1),v=f.length,h=typeof f[v-1]=="function";if(!h&&!e())throw new Error("Callback required as last argument");if(h){if(v<2)throw new Error("Too few arguments provided");v===2?(u=a,a=s,s=c=void 0):v===3&&(s.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=a,a=s,s=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(a=s,s=c=void 0):v===2&&!s.getContext&&(c=a,a=s,s=void 0),new Promise(function(p,x){try{const C=t.create(a,c);p(i(C,s,c))}catch(C){x(C)}})}try{const p=t.create(a,c);u(null,i(p,s,c))}catch(p){u(p)}}return _t.create=t.create,_t.toCanvas=r.bind(null,o.render),_t.toDataURL=r.bind(null,o.renderToDataURL),_t.toString=r.bind(null,function(i,s,a){return n.render(i,a)}),_t}var co=ao();const lo=qr(co),uo={class:"min-h-dvh bg-background"},fo={class:"sticky top-0 z-10 bg-card/80 backdrop-blur-lg border-b border-border"},ho={class:"flex items-center gap-4 px-4 py-4"},go={class:"heading flex-1 font-display text-lg font-bold tracking-tight",initial:{opacity:0,y:-10},enter:{opacity:1,y:0,transition:{delay:100}}},mo={class:"flex gap-2"},po={key:0,class:"p-4 space-y-6"},yo={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:200}}},vo={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-3"},_o={class:"grid grid-cols-4 gap-2"},wo={class:"font-display text-base font-semibold text-primary"},bo={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:250}}},Co={class:"flex items-center justify-between mb-3"},ko={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},Eo={key:0,class:"grid grid-cols-2 gap-2"},xo={class:"flex items-center gap-2"},Do=["onClick"],Io={class:"font-medium text-foreground"},To={class:"text-xs text-muted-foreground"},So=["onClick"],Po=["onClick"],Mo={class:"flex items-center justify-between mb-3"},Bo={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},Ao={class:"text-xs text-muted-foreground"},Ro={class:"grid grid-cols-3 sm:grid-cols-4 gap-3"},Lo={class:"text-xs text-muted-foreground uppercase"},No={class:"die-value block font-display text-2xl font-bold text-accent mt-1"},Uo=["onClick"],Fo=["onClick"],Oo={class:"text-xs text-muted-foreground truncate block"},qo=["onClick"],zo=["onClick"],Vo={class:"text-muted-foreground"},Ko={class:"font-display text-2xl font-bold text-accent"},jo={key:1,class:"dice-empty text-center text-muted-foreground py-12",initial:{opacity:0},enter:{opacity:1,transition:{delay:300}}},Go={key:1,class:"p-4 space-y-6"},Ho={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:200}}},Yo={class:"flex items-center justify-between mb-3"},Jo={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},Wo={key:0,class:"space-y-3"},Qo={class:"mb-3"},Xo={class:"font-semibold text-foreground"},Zo={class:"flex flex-wrap gap-1 mt-2"},$o={class:"flex gap-2 pt-3 border-t border-border"},ti={key:1,class:"text-center py-12"},ei={class:"text-muted-foreground mb-4"},ni={key:2,class:"p-4 space-y-6"},ri={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:100}}},oi={class:"text-lg font-semibold text-foreground mb-6"},ii={class:"space-y-4"},si={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-2 block"},ai={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-2 block"},ci={class:"space-y-3"},li={class:"flex items-center gap-2 mb-3"},ui=["onClick"],di={class:"flex flex-wrap gap-1 mb-3"},fi=["onClick"],hi={class:"flex flex-wrap gap-1"},gi=["onClick"],mi={key:3,class:"p-4 space-y-6"},pi={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:100}}},yi={class:"text-lg font-semibold text-foreground mb-6"},vi={class:"space-y-4"},_i={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-2 block"},wi={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-2 block"},bi={class:"grid grid-cols-4 gap-2"},Ci={class:"font-display text-sm font-semibold text-primary"},ki={key:0,class:"flex items-center justify-center gap-1"},Ei={class:"text-sm text-foreground"},xi=["onClick"],Di={key:0},Ii={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-2 block"},Ti={class:"flex flex-wrap gap-2"},Si=["onClick"],Pi={class:"flex items-center justify-between"},Mi={class:"text-lg font-semibold"},Bi={class:"text-sm text-muted-foreground"},Ai={key:0,class:"flex justify-center"},Ri=["src"],Li={class:"flex gap-2"},Ni=15,Ui=1e3,ns=qn({__name:"dice",setup(e){const{t}=zn(),o=[3,4,6,8,10,12,20,100],n=["#818cf8","#f472b6","#34d399","#fbbf24","#f87171","#60a5fa","#a78bfa","#fb923c"],r=["1","2","3","4","5","6","+","-","?","!","X","O","*","@","#","%","&","$"],i=$("roll"),s=$([]),a=$([]),c=$(!1),{data:u}=xe("gamepal-custom-dice",[]),{data:f}=xe("gamepal-dice-presets",[]),v=$({name:"",faces:[{value:"",color:null},{value:"",color:null}]}),h=$({name:"",standardDice:[],customDiceIds:[]}),p=$(null),x=$(!1),C=$(null),q=$(null),D=$(null);let N=0;const A=Ee(()=>s.value.reduce((d,w)=>d+(w.value??0),0)),T=Ee(()=>s.value.length>0||a.value.length>0);function K(m){const d={id:Pt(),type:m,value:null,isLocked:!1};s.value.push(d)}function b(m){const d=s.value.findIndex(w=>w.id===m);d!==-1&&s.value.splice(d,1)}function S(m){const d={id:Pt(),name:m.name,faces:[...m.faces],currentFaceIndex:null,isLocked:!1};a.value.push(d)}function P(m){const d=a.value.findIndex(w=>w.id===m);d!==-1&&a.value.splice(d,1)}function _(){s.value=[],a.value=[]}function B(){if(!T.value)return;c.value=!0;let m=0;const d=10,w=Hn(()=>{for(const O of s.value)O.isLocked||(O.value=Math.floor(Math.random()*O.type)+1);for(const O of a.value)O.isLocked||(O.currentFaceIndex=Math.floor(Math.random()*O.faces.length));m++,m>=d&&(clearInterval(w),c.value=!1)},80)}function I(m){const d=s.value.find(w=>w.id===m);d&&(d.isLocked=!d.isLocked)}function M(m){const d=a.value.find(w=>w.id===m);d&&(d.isLocked=!d.isLocked)}function E(m){return`D${m}`}function L(){v.value.faces.push({value:"",color:null})}function ot(m){v.value.faces.length>2&&v.value.faces.splice(m,1)}function dt(m,d){const w=v.value.faces[m];w&&(w.color=d)}function Lt(m,d){const w=v.value.faces[m];w&&(w.value=d)}function Tt(){const m=v.value.name.trim();if(m===""||v.value.faces.some(w=>w.value.trim()===""))return;const d={id:Pt(),name:m,faces:v.value.faces.map(w=>({value:w.value.trim(),color:w.color})),currentFaceIndex:null,isLocked:!1};u.value.push(d),ft(),i.value="roll"}function Nt(m){const d=u.value.findIndex(w=>w.id===m);d!==-1&&u.value.splice(d,1)}async function wt(m){C.value=m;const d={name:m.name,faces:m.faces};try{q.value=await lo.toDataURL(JSON.stringify(d),{width:256,margin:2,color:{dark:"#000000",light:"#ffffff"}}),x.value=!0}catch{console.log("Erreur lors de la generation du QR code")}}function yt(m){const d={name:m.name,faces:m.faces},w=JSON.stringify(d,null,2),O=new Blob([w],{type:"application/json"}),ct=URL.createObjectURL(O),H=document.createElement("a");H.href=ct,H.download=`${m.name.toLowerCase().replace(/\s+/g,"-")}.json`,H.click(),URL.revokeObjectURL(ct)}function vt(){x.value=!1,C.value=null,q.value=null}function ft(){v.value={name:"",faces:[{value:"",color:null},{value:"",color:null}]}}function Ut(m){const d=h.value.standardDice.find(w=>w.type===m);d?d.count++:h.value.standardDice.push({type:m,count:1})}function bt(m){const d=h.value.standardDice.findIndex(w=>w.type===m);if(d!==-1){const w=h.value.standardDice[d];if(!w)return;w.count>1?w.count--:h.value.standardDice.splice(d,1)}}function St(m){const d=h.value.customDiceIds.indexOf(m);d!==-1?h.value.customDiceIds.splice(d,1):h.value.customDiceIds.push(m)}function Q(m){return h.value.standardDice.find(w=>w.type===m)?.count??0}function tt(m){return h.value.customDiceIds.includes(m)}function at(){const m=h.value.name.trim();if(m!==""&&!(h.value.standardDice.length===0&&h.value.customDiceIds.length===0)){if(p.value){const d=f.value.find(w=>w.id===p.value);d&&(d.name=m,d.standardDice=[...h.value.standardDice],d.customDice=h.value.customDiceIds.map(w=>u.value.find(O=>O.id===w)).filter(w=>w!==void 0))}else{const d={id:Pt(),name:m,standardDice:[...h.value.standardDice],customDice:h.value.customDiceIds.map(w=>u.value.find(O=>O.id===w)).filter(w=>w!==void 0)};f.value.push(d)}Ft(),i.value="presets"}}function Ct(m){p.value=m.id,h.value={name:m.name,standardDice:[...m.standardDice],customDiceIds:m.customDice.map(d=>d.id)},i.value="createPreset"}function In(m){const d=f.value.findIndex(w=>w.id===m);d!==-1&&f.value.splice(d,1)}function Tn(m){_();for(const d of m.standardDice)for(let w=0;w<d.count;w++)K(d.type);for(const d of m.customDice)S(d);i.value="roll"}function Ft(){p.value=null,h.value={name:"",standardDice:[],customDiceIds:[]}}function ve(){ft(),i.value="createCustom"}function _e(){Ft(),i.value="createPreset"}function Sn(){i.value="roll",ft(),Ft()}function we(m){const d=m.accelerationIncludingGravity;if(!d)return;const w=d.x??0,O=d.y??0,ct=d.z??0;if(Math.sqrt(w*w+O*O+ct*ct)>Ni){const kt=Date.now();kt-N>Ui&&(N=kt,T.value&&!c.value&&i.value==="roll"&&B())}}return fn(()=>{typeof window<"u"&&"DeviceMotionEvent"in window&&window.addEventListener("devicemotion",we)}),Vn(D,m=>{m&&Or(({movement:[d,w],dragging:O})=>{!O&&w<-50&&T.value&&!c.value&&B()},{domTarget:m})},{immediate:!0}),hn(()=>{typeof window<"u"&&"DeviceMotionEvent"in window&&window.removeEventListener("devicemotion",we)}),(m,d)=>{const w=Mn,O=Bn,ct=An,H=Rn,kt=Ln,be=Nn,Ot=Un,et=Kn("motion");return k(),U("div",uo,[y("header",fo,[y("div",ho,[nt((k(),j(w,{to:"/",class:"dice-page__back flex h-10 w-10 items-center justify-center rounded-full text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",initial:{opacity:0,x:-10},enter:{opacity:1,x:0}},{default:V(()=>[F(l(Yn),{class:"h-5 w-5"})]),_:1})),[[et]]),nt((k(),U("h1",go,[W(R(l(t)("dice.title")),1)])),[[et]]),y("div",mo,[l(i)==="roll"&&l(T)?(k(),j(O,{key:0,variant:"ghost",size:"sm",class:"dice-page__clear text-destructive hover:text-destructive",onClick:_},{default:V(()=>[W(R(l(t)("common.clear")),1)]),_:1})):rt("",!0),l(i)!=="roll"?(k(),j(O,{key:1,variant:"ghost",size:"sm",class:"dice-page__cancel",onClick:Sn},{default:V(()=>[W(R(l(t)("common.cancel")),1)]),_:1})):rt("",!0)])])]),l(i)==="roll"?(k(),U("div",po,[nt(F(ct,{tabs:[{value:"roll",label:l(t)("dice.roll"),icon:l(zt)},{value:"presets",label:l(t)("dice.presets"),icon:l(Te)}],"model-value":"roll",initial:{opacity:0,y:10},enter:{opacity:1,y:0,transition:{delay:150}},"onUpdate:modelValue":d[0]||(d[0]=g=>i.value=g)},null,8,["tabs"]),[[et]]),nt((k(),U("section",yo,[y("h2",vo,R(l(t)("dice.standardDice")),1),y("div",_o,[(k(),U(X,null,Z(o,g=>F(H,{key:g,hoverable:"",class:"dice-type-card p-3 cursor-pointer text-center",onClick:z=>K(g)},{default:V(()=>[y("span",wo,R(E(g)),1)]),_:2},1032,["onClick"])),64))])])),[[et]]),nt((k(),U("section",bo,[y("div",Co,[y("h2",ko,R(l(t)("dice.customDice")),1),l(u).length>0?(k(),j(kt,{key:0,size:"sm",class:"custom-dice-add",onClick:ve},{default:V(()=>[F(l(Ce),{class:"h-4 w-4"})]),_:1})):rt("",!0)]),l(u).length>0?(k(),U("div",Eo,[(k(!0),U(X,null,Z(l(u),g=>(k(),j(H,{key:g.id,hoverable:"",class:"custom-die-card p-3 cursor-pointer"},{default:V(()=>[y("div",xo,[y("button",{class:"flex-1 text-left",onClick:z=>S(g)},[y("p",Io,R(g.name),1),y("p",To,R(g.faces.length)+" "+R(l(t)("dice.faces")),1)],8,Do),y("button",{class:"custom-die-card__export p-1 text-muted-foreground hover:text-primary transition-colors",onClick:qt(z=>wt(g),["stop"])},[F(l(Xn),{class:"h-4 w-4"})],8,So),y("button",{class:"custom-die-card__delete p-1 text-muted-foreground hover:text-destructive transition-colors",onClick:qt(z=>Nt(g.id),["stop"])},[F(l(Et),{class:"h-4 w-4"})],8,Po)])]),_:2},1024))),128))])):(k(),U("button",{key:1,class:"create-custom-btn w-full p-4 border-2 border-dashed border-muted-foreground/30 rounded-lg text-muted-foreground text-sm hover:border-primary hover:text-primary transition-colors",onClick:ve},R(l(t)("dice.createCustomDie")),1))])),[[et]]),l(T)?nt((k(),U("section",{key:0,ref_key:"diceTrayRef",ref:D,initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:300}}},[y("div",Mo,[y("h2",Bo,R(l(t)("dice.yourDice")),1),y("span",Ao,R(l(t)("dice.swipeToRoll")),1)]),y("div",Ro,[(k(!0),U(X,null,Z(l(s),g=>(k(),j(H,{key:g.id,class:ht(["die-in-tray relative p-3 text-center",{"animate-shake":l(c)&&!g.isLocked,"ring-2 ring-primary":g.isLocked}])},{default:V(()=>[y("span",Lo,R(E(g.type)),1),y("span",No,R(g.value??"?"),1),y("button",{class:ht(["die-lock absolute top-1 left-1 p-1 transition-colors",g.isLocked?"text-primary":"text-muted-foreground hover:text-primary"]),onClick:z=>I(g.id)},[g.isLocked?(k(),j(l(De),{key:0,class:"h-3 w-3"})):(k(),j(l(Ie),{key:1,class:"h-3 w-3"}))],10,Uo),y("button",{class:"die-remove absolute top-1 right-1 p-1 text-muted-foreground hover:text-destructive transition-colors",onClick:z=>b(g.id)},[F(l(Et),{class:"h-3 w-3"})],8,Fo)]),_:2},1032,["class"]))),128)),(k(!0),U(X,null,Z(l(a),g=>(k(),j(H,{key:g.id,class:ht(["die-in-tray die-in-tray--custom relative p-3 text-center",{"animate-shake":l(c)&&!g.isLocked,"ring-2 ring-primary":g.isLocked}])},{default:V(()=>[y("span",Oo,R(g.name),1),y("span",{class:"custom-face-value block font-display text-lg font-bold mt-1 px-2 py-1 rounded",style:ke({backgroundColor:g.currentFaceIndex!==null&&g.faces[g.currentFaceIndex]?.color?g.faces[g.currentFaceIndex]?.color??"hsl(var(--primary))":"hsl(var(--primary))",color:"#ffffff"})},R(g.currentFaceIndex!==null?g.faces[g.currentFaceIndex]?.value??"?":"?"),5),y("button",{class:ht(["die-lock absolute top-1 left-1 p-1 transition-colors",g.isLocked?"text-primary":"text-muted-foreground hover:text-primary"]),onClick:z=>M(g.id)},[g.isLocked?(k(),j(l(De),{key:0,class:"h-3 w-3"})):(k(),j(l(Ie),{key:1,class:"h-3 w-3"}))],10,qo),y("button",{class:"die-remove absolute top-1 right-1 p-1 text-muted-foreground hover:text-destructive transition-colors",onClick:z=>P(g.id)},[F(l(Et),{class:"h-3 w-3"})],8,zo)]),_:2},1032,["class"]))),128))]),l(s).length>0?(k(),j(H,{key:0,class:"dice-total mt-4 p-4 flex items-center justify-between"},{default:V(()=>[y("span",Vo,R(l(t)("dice.total")),1),y("span",Ko,R(l(A)),1)]),_:1})):rt("",!0),F(O,{class:"roll-btn w-full mt-4",size:"lg",disabled:l(c),onClick:B},{default:V(()=>[F(l(zt),{class:"h-5 w-5 mr-2"}),W(" "+R(l(c)?l(t)("dice.rolling"):l(t)("dice.roll")),1)]),_:1},8,["disabled"])])),[[et]]):nt((k(),U("p",jo,[W(R(l(t)("dice.selectDice")),1)])),[[et]])])):l(i)==="presets"?(k(),U("div",Go,[nt(F(ct,{tabs:[{value:"roll",label:l(t)("dice.roll"),icon:l(zt)},{value:"presets",label:l(t)("dice.presets"),icon:l(Te)}],"model-value":"presets",initial:{opacity:0,y:10},enter:{opacity:1,y:0,transition:{delay:150}},"onUpdate:modelValue":d[1]||(d[1]=g=>i.value=g)},null,8,["tabs"]),[[et]]),nt((k(),U("section",Ho,[y("div",Yo,[y("h2",Jo,R(l(t)("dice.yourPresets")),1),F(kt,{size:"sm",class:"presets-add",onClick:_e},{default:V(()=>[F(l(Ce),{class:"h-4 w-4"})]),_:1})]),l(f).length>0?(k(),U("div",Wo,[(k(!0),U(X,null,Z(l(f),g=>(k(),j(H,{key:g.id,class:"preset-card p-4"},{default:V(()=>[y("div",Qo,[y("p",Xo,R(g.name),1),y("div",Zo,[(k(!0),U(X,null,Z(g.standardDice,z=>(k(),j(be,{key:z.type,variant:"secondary"},{default:V(()=>[W(R(z.count)+"x D"+R(z.type),1)]),_:2},1024))),128)),(k(!0),U(X,null,Z(g.customDice,z=>(k(),j(be,{key:z.id,variant:"default"},{default:V(()=>[W(R(z.name),1)]),_:2},1024))),128))])]),y("div",$o,[F(O,{size:"sm",class:"preset-load flex-1",onClick:z=>Tn(g)},{default:V(()=>[F(l(Gn),{class:"h-4 w-4 mr-1"}),W(" "+R(l(t)("dice.load")),1)]),_:1},8,["onClick"]),F(O,{variant:"outline",size:"sm",class:"preset-edit",onClick:z=>Ct(g)},{default:V(()=>[F(l(Jn),{class:"h-4 w-4"})]),_:1},8,["onClick"]),F(O,{variant:"outline",size:"sm",class:"preset-delete text-destructive hover:text-destructive",onClick:z=>In(g.id)},{default:V(()=>[F(l(Wn),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]),_:2},1024))),128))])):(k(),U("div",ti,[y("p",ei,R(l(t)("dice.noPresets")),1),F(O,{variant:"outline",onClick:_e},{default:V(()=>[W(R(l(t)("dice.createPreset")),1)]),_:1})]))])),[[et]])])):l(i)==="createCustom"?(k(),U("div",ni,[nt((k(),U("section",ri,[y("h2",oi,R(l(t)("dice.createCustomDie")),1),y("div",ii,[y("div",null,[y("label",si,R(l(t)("dice.dieName")),1),F(Ot,{modelValue:l(v).name,"onUpdate:modelValue":d[2]||(d[2]=g=>l(v).name=g),placeholder:l(t)("dice.dieNamePlaceholder")},null,8,["modelValue","placeholder"])]),y("div",null,[y("label",ai,R(l(t)("dice.faces"))+" ("+R(l(v).faces.length)+") ",1),y("div",ci,[(k(!0),U(X,null,Z(l(v).faces,(g,z)=>(k(),j(H,{key:z,class:"face-editor p-3"},{default:V(()=>[y("div",li,[F(Ot,{modelValue:g.value,"onUpdate:modelValue":J=>g.value=J,class:"face-input flex-1 text-center text-lg",placeholder:l(t)("dice.faceValue")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),l(v).faces.length>2?(k(),U("button",{key:0,class:"face-remove p-2 text-muted-foreground hover:text-destructive transition-colors",onClick:J=>ot(z)},[F(l(Et),{class:"h-4 w-4"})],8,ui)):rt("",!0)]),y("div",di,[(k(),U(X,null,Z(r,J=>y("button",{key:J,class:ht(["emoji-btn w-8 h-8 rounded text-sm flex items-center justify-center transition-all",g.value===J?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-primary/20"]),onClick:Pn=>Lt(z,J)},R(J),11,fi)),64))]),y("div",hi,[(k(),U(X,null,Z(n,J=>y("button",{key:J,class:ht(["color-btn w-6 h-6 rounded-full border-2 transition-transform",g.color===J?"border-white scale-110":"border-transparent"]),style:ke({backgroundColor:J}),onClick:Pn=>dt(z,g.color===J?null:J)},null,14,gi)),64))])]),_:2},1024))),128))]),y("button",{class:"add-face-btn w-full mt-3 p-3 border-2 border-dashed border-muted-foreground/30 rounded-lg text-muted-foreground text-sm hover:border-primary hover:text-primary transition-colors",onClick:L},R(l(t)("dice.addFace")),1)])]),F(O,{class:"save-custom-die w-full mt-6",disabled:!l(v).name.trim()||l(v).faces.some(g=>!g.value.trim()),onClick:Tt},{default:V(()=>[W(R(l(t)("common.save")),1)]),_:1},8,["disabled"])])),[[et]])])):l(i)==="createPreset"?(k(),U("div",mi,[nt((k(),U("section",pi,[y("h2",yi,R(l(p)?l(t)("dice.editPreset"):l(t)("dice.createPreset")),1),y("div",vi,[y("div",null,[y("label",_i,R(l(t)("dice.presetName")),1),F(Ot,{modelValue:l(h).name,"onUpdate:modelValue":d[3]||(d[3]=g=>l(h).name=g),placeholder:l(t)("dice.presetNamePlaceholder")},null,8,["modelValue","placeholder"])]),y("div",null,[y("label",wi,R(l(t)("dice.standardDice")),1),y("div",bi,[(k(),U(X,null,Z(o,g=>y("div",{key:g,class:"text-center"},[F(H,{hoverable:"",class:"preset-die-btn p-2 cursor-pointer mb-1",onClick:z=>Ut(g)},{default:V(()=>[y("span",Ci,"D"+R(g),1)]),_:2},1032,["onClick"]),Q(g)>0?(k(),U("div",ki,[y("span",Ei,R(Q(g)),1),y("button",{class:"preset-die-remove w-5 h-5 rounded-full bg-destructive text-destructive-foreground text-xs flex items-center justify-center",onClick:z=>bt(g)}," - ",8,xi)])):rt("",!0)])),64))])]),l(u).length>0?(k(),U("div",Di,[y("label",Ii,R(l(t)("dice.customDice")),1),y("div",Ti,[(k(!0),U(X,null,Z(l(u),g=>(k(),U("button",{key:g.id,class:ht(["preset-custom-btn px-3 py-2 rounded-lg text-sm transition-all",tt(g.id)?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground border-2 border-transparent hover:border-primary"]),onClick:z=>St(g.id)},R(g.name),11,Si))),128))])])):rt("",!0)]),F(O,{class:"save-preset w-full mt-6",disabled:!l(h).name.trim()||l(h).standardDice.length===0&&l(h).customDiceIds.length===0,onClick:at},{default:V(()=>[W(R(l(t)("common.save")),1)]),_:1},8,["disabled"])])),[[et]])])):rt("",!0),(k(),j(jn,{to:"body"},[l(x)?(k(),U("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:qt(vt,["self"])},[F(H,{class:"export-modal w-full max-w-sm p-6 space-y-4"},{default:V(()=>[y("div",Pi,[y("h3",Mi,R(l(t)("dice.exportDie")),1),y("button",{class:"p-1 text-muted-foreground hover:text-foreground transition-colors",onClick:vt},[F(l(Et),{class:"h-5 w-5"})])]),y("p",Bi,R(l(C)?.name),1),l(q)?(k(),U("div",Ai,[y("img",{src:l(q),alt:"QR Code",class:"rounded-lg"},null,8,Ri)])):rt("",!0),y("div",Li,[l(C)?(k(),j(O,{key:0,variant:"outline",class:"flex-1",onClick:d[4]||(d[4]=g=>yt(l(C)))},{default:V(()=>[F(l(Qn),{class:"h-4 w-4 mr-2"}),d[5]||(d[5]=W(" JSON ",-1))]),_:1})):rt("",!0),F(O,{class:"flex-1",onClick:vt},{default:V(()=>[W(R(l(t)("common.close")),1)]),_:1})])]),_:1})])):rt("",!0)]))])}}});export{ns as default};
