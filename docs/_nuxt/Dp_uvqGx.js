import{_ as he}from"./m4LV7nyU.js";import{_ as ge}from"./Cbd6NRa-.js";import{_ as ke,X as W}from"./DOmmcJaj.js";import{_ as xe,P as Y}from"./BXj4j506.js";import{_ as Ce}from"./368PfccR.js";import{_ as be}from"./BGGOEJ8U.js";import{_ as we}from"./C-HMa5HP.js";import{i as Te,j as Pe,c as o,a as u,m as C,p,w as s,d as m,t as i,h as e,b as a,G as z,C as D,F as f,s as A,q as b,r as v,l as ze,o as n,y as F}from"./_toqS5fQ.js";import{u as Ve}from"./7O3imeY3.js";import{u as Z}from"./C7lDKmY2.js";import{A as Ue}from"./CjqhjfBM.js";import{c as Ne}from"./W6Z6A4iW.js";import{P as ee}from"./C094DfP7.js";import{U as $e}from"./DyxQJ2ps.js";import{T as te}from"./DJou1vRW.js";import"./DNvWDFdm.js";import"./GJI3iByT.js";const ne=Ne("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ae={class:"min-h-dvh bg-background"},Ie={class:"sticky top-0 z-10 bg-card/80 backdrop-blur-lg border-b border-border"},Be={class:"flex items-center gap-4 px-4 py-4"},Ee={class:"heading flex-1 font-display text-lg font-bold tracking-tight",initial:{opacity:0,y:-10},enter:{opacity:1,y:0,transition:{delay:100}}},De={class:"p-4 space-y-6"},Fe={key:0},Ke={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:200}}},Le={class:"flex gap-2 mb-4"},je={key:0,class:"space-y-2"},Me={class:"flex items-center gap-3"},Re={class:"flex-1 font-medium"},Se={key:0,class:"flex flex-wrap gap-2 pt-3 mt-3 border-t border-border"},qe={key:1,class:"flex items-center gap-2 pt-3 mt-3 border-t border-border"},Ge={class:"flex-1 text-sm text-muted-foreground"},Xe={key:1,class:"text-center text-muted-foreground py-12"},He={key:1},Je={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:200}}},Oe={class:"flex gap-2 mb-4"},Qe={key:0,class:"space-y-3"},We={class:"flex items-center gap-3 mb-3"},Ye={class:"flex-1 font-semibold"},Ze={key:0,class:"flex flex-wrap gap-1"},et={key:1,class:"text-sm text-muted-foreground"},tt={key:2,class:"flex items-center gap-2 pt-3 mt-3 border-t border-border"},nt={class:"flex-1 text-sm text-muted-foreground"},at={key:1,class:"text-center text-muted-foreground py-12"},lt={key:2,class:"mt-6"},ot={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-3"},st={class:"flex flex-wrap gap-2"},Tt=Te({__name:"players",setup(it){const{t:d}=Pe(),{players:I,addPlayer:ae,updatePlayer:le,deletePlayer:oe}=Ve(),{teams:w,addTeam:se,deleteTeam:ie,addPlayerToTeam:re,removePlayerFromAllTeams:M,getPlayerTeam:V}=Z(),K=v("players"),U=v(""),N=v(""),T=v(null),y=v(""),P=v(null),h=v(""),$=v(null),g=v(null);function R(){const l=U.value.trim();l!==""&&(ae(l),U.value="")}function S(){const l=N.value.trim();l!==""&&(se(l),N.value="")}function de(l){T.value=l.id,y.value=l.name}function q(){T.value&&y.value.trim()&&le(T.value,{name:y.value}),T.value=null,y.value=""}function G(){T.value=null,y.value=""}function ce(l){P.value=l.id,h.value=l.name}function X(){if(P.value&&h.value.trim()){const{updateTeam:l}=Z();l(P.value,{name:h.value})}P.value=null,h.value=""}function H(){P.value=null,h.value=""}function ue(l){M(l),oe(l),g.value=null}function me(l){ie(l),g.value=null}function _e(l){$.value=$.value===l?null:l}function pe(l,c){re(c,l),$.value=null}function fe(l){M(l),$.value=null}function ve(l){return w.value.find(L=>L.id===l)?.playerIds.length??0}function J(){return I.value.filter(l=>!V(l.id))}return(l,c)=>{const L=he,ye=ge,B=ke,k=xe,_=Ce,E=be,O=we,x=ze("motion");return n(),o("div",Ae,[u("header",Ie,[u("div",Be,[C((n(),p(L,{to:"/",class:"players-page__back flex h-10 w-10 items-center justify-center rounded-full text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",initial:{opacity:0,x:-10},enter:{opacity:1,x:0}},{default:s(()=>[a(e(Ue),{class:"h-5 w-5"})]),_:1})),[[x]]),C((n(),o("h1",Ee,[m(i(e(d)("players.title")),1)])),[[x]])])]),u("div",De,[C(a(ye,{tabs:[{value:"players",label:e(d)("players.players")},{value:"teams",label:e(d)("players.teams")}],"model-value":e(K),initial:{opacity:0,y:10},enter:{opacity:1,y:0,transition:{delay:150}},"onUpdate:modelValue":c[0]||(c[0]=t=>K.value=t)},null,8,["tabs","model-value"]),[[x]]),e(K)==="players"?(n(),o("div",Fe,[C((n(),o("section",Ke,[u("div",Le,[a(B,{modelValue:e(U),"onUpdate:modelValue":c[1]||(c[1]=t=>D(U)?U.value=t:null),placeholder:e(d)("players.newPlayerName"),class:"flex-1",onKeyup:z(R,["enter"])},null,8,["modelValue","placeholder"]),a(k,{onClick:R},{default:s(()=>[a(e(Y),{class:"h-4 w-4"}),m(" "+i(e(d)("common.add")),1)]),_:1})]),e(I).length>0?(n(),o("div",je,[(n(!0),o(f,null,A(e(I),(t,j)=>C((n(),p(O,{key:t.id,initial:{opacity:0,x:-20},enter:{opacity:1,x:0,transition:{delay:250+j*30}},class:"player-card p-3"},{default:s(()=>[u("div",Me,[u("span",{class:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold",style:F({backgroundColor:t.color})},i(t.name.charAt(0).toUpperCase()),5),e(T)===t.id?(n(),o(f,{key:0},[a(B,{modelValue:e(y),"onUpdate:modelValue":c[2]||(c[2]=r=>D(y)?y.value=r:null),class:"flex-1",onKeyup:[z(q,["enter"]),z(G,["escape"])]},null,8,["modelValue"]),a(_,{size:"sm",onClick:q},{default:s(()=>[a(e(ne),{class:"h-4 w-4"})]),_:1}),a(_,{variant:"ghost",size:"sm",onClick:G},{default:s(()=>[a(e(W),{class:"h-4 w-4"})]),_:1})],64)):(n(),o(f,{key:1},[u("span",Re,i(t.name),1),e(V)(t.id)?(n(),p(E,{key:0,style:F({backgroundColor:e(V)(t.id)?.color})},{default:s(()=>[m(i(e(V)(t.id)?.name),1)]),_:2},1032,["style"])):b("",!0),a(_,{variant:"ghost",size:"sm",onClick:r=>de(t)},{default:s(()=>[a(e(ee),{class:"h-4 w-4"})]),_:1},8,["onClick"]),e(w).length>0?(n(),p(_,{key:1,variant:"ghost",size:"sm",onClick:r=>_e(t.id)},{default:s(()=>[a(e($e),{class:"h-4 w-4"})]),_:1},8,["onClick"])):b("",!0),a(_,{variant:"destructive",size:"sm",onClick:r=>g.value=t.id},{default:s(()=>[a(e(te),{class:"h-4 w-4"})]),_:1},8,["onClick"])],64))]),e($)===t.id?(n(),o("div",Se,[(n(!0),o(f,null,A(e(w),r=>(n(),p(k,{key:r.id,variant:"outline",size:"sm",style:F({borderColor:r.color}),onClick:Q=>pe(t.id,r.id)},{default:s(()=>[m(i(r.name),1)]),_:2},1032,["style","onClick"]))),128)),e(V)(t.id)?(n(),p(k,{key:0,variant:"ghost",size:"sm",onClick:r=>fe(t.id)},{default:s(()=>[m(i(e(d)("players.removeFromTeam")),1)]),_:1},8,["onClick"])):b("",!0)])):b("",!0),e(g)===t.id?(n(),o("div",qe,[u("span",Ge,i(e(d)("players.deleteConfirm",{name:t.name})),1),a(k,{size:"sm",variant:"destructive",onClick:r=>ue(t.id)},{default:s(()=>[m(i(e(d)("common.delete")),1)]),_:1},8,["onClick"]),a(k,{size:"sm",variant:"ghost",onClick:c[3]||(c[3]=r=>g.value=null)},{default:s(()=>[m(i(e(d)("common.cancel")),1)]),_:1})])):b("",!0)]),_:2},1032,["enter"])),[[x]])),128))])):(n(),o("p",Xe,i(e(d)("players.noPlayers")),1))])),[[x]])])):(n(),o("div",He,[C((n(),o("section",Je,[u("div",Oe,[a(B,{modelValue:e(N),"onUpdate:modelValue":c[4]||(c[4]=t=>D(N)?N.value=t:null),placeholder:e(d)("players.newTeamName"),class:"flex-1",onKeyup:z(S,["enter"])},null,8,["modelValue","placeholder"]),a(k,{onClick:S},{default:s(()=>[a(e(Y),{class:"h-4 w-4"}),m(" "+i(e(d)("common.add")),1)]),_:1})]),e(w).length>0?(n(),o("div",Qe,[(n(!0),o(f,null,A(e(w),(t,j)=>C((n(),p(O,{key:t.id,initial:{opacity:0,x:-20},enter:{opacity:1,x:0,transition:{delay:250+j*30}},class:"team-card p-4"},{default:s(()=>[u("div",We,[u("span",{class:"w-4 h-4 rounded-full",style:F({backgroundColor:t.color})},null,4),e(P)===t.id?(n(),o(f,{key:0},[a(B,{modelValue:e(h),"onUpdate:modelValue":c[5]||(c[5]=r=>D(h)?h.value=r:null),class:"flex-1",onKeyup:[z(X,["enter"]),z(H,["escape"])]},null,8,["modelValue"]),a(_,{size:"sm",onClick:X},{default:s(()=>[a(e(ne),{class:"h-4 w-4"})]),_:1}),a(_,{variant:"ghost",size:"sm",onClick:H},{default:s(()=>[a(e(W),{class:"h-4 w-4"})]),_:1})],64)):(n(),o(f,{key:1},[u("span",Ye,i(t.name),1),a(E,{variant:"secondary"},{default:s(()=>[m(i(ve(t.id))+" "+i(e(d)("players.members")),1)]),_:2},1024),a(_,{variant:"ghost",size:"sm",onClick:r=>ce(t)},{default:s(()=>[a(e(ee),{class:"h-4 w-4"})]),_:1},8,["onClick"]),a(_,{variant:"destructive",size:"sm",onClick:r=>g.value=t.id},{default:s(()=>[a(e(te),{class:"h-4 w-4"})]),_:1},8,["onClick"])],64))]),t.playerIds.length>0?(n(),o("div",Ze,[(n(!0),o(f,null,A(t.playerIds,r=>(n(),p(E,{key:r,variant:"default"},{default:s(()=>[m(i(e(I).find(Q=>Q.id===r)?.name),1)]),_:2},1024))),128))])):(n(),o("p",et,i(e(d)("players.noMembers")),1)),e(g)===t.id?(n(),o("div",tt,[u("span",nt,i(e(d)("players.deleteTeamConfirm",{name:t.name})),1),a(k,{size:"sm",variant:"destructive",onClick:r=>me(t.id)},{default:s(()=>[m(i(e(d)("common.delete")),1)]),_:1},8,["onClick"]),a(k,{size:"sm",variant:"ghost",onClick:c[6]||(c[6]=r=>g.value=null)},{default:s(()=>[m(i(e(d)("common.cancel")),1)]),_:1})])):b("",!0)]),_:2},1032,["enter"])),[[x]])),128))])):(n(),o("p",at,i(e(d)("players.noTeams")),1)),J().length>0&&e(w).length>0?(n(),o("div",lt,[u("h3",ot,i(e(d)("players.unassigned")),1),u("div",st,[(n(!0),o(f,null,A(J(),t=>(n(),p(E,{key:t.id,variant:"outline"},{default:s(()=>[m(i(t.name),1)]),_:2},1024))),128))])])):b("",!0)])),[[x]])]))])])}}});export{Tt as default};
