import{_ as On}from"./m4LV7nyU.js";import{_ as qn,P as At}from"./BXj4j506.js";import{_ as zn}from"./Cbd6NRa-.js";import{_ as Vn}from"./C-HMa5HP.js";import{_ as jn}from"./368PfccR.js";import{_ as Kn}from"./BGGOEJ8U.js";import{X as xt,_ as Gn}from"./DOmmcJaj.js";import{r as Z,g as Hn,e as hn,f as gn,h as l,n as Yn,i as Jn,j as Wn,k as Qn,l as Xn,o as _,c as N,a as m,m as tt,p as K,w as q,b as F,d as G,t as b,q as et,F as J,s as W,v as Vt,x as ut,y as Ee,T as Zn,z as jt}from"./_toqS5fQ.js";import{u as De,P as $n}from"./BUtGkUsU.js";import{g as Rt}from"./GJI3iByT.js";import{s as tr}from"./B-6mWhxQ.js";import{A as er}from"./CjqhjfBM.js";import{c as It}from"./W6Z6A4iW.js";import{L as Ie,M as nr}from"./Bkzm0esq.js";import{P as rr}from"./C094DfP7.js";import{T as or}from"./DJou1vRW.js";import{D as sr}from"./Dm84IkGY.js";import"./DNvWDFdm.js";const Kt=It("dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);const Te=It("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const Se=It("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const ir=It("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const ar=It("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);function cr(){try{return"constructor"in GestureEvent}catch{return!1}}function mn(){return typeof window<"u"&&"ontouchstart"in window}function pn(e){return"pointerId"in e?null:e.type==="touchend"?e.changedTouches:e.targetTouches}function yn(e){return Array.from(pn(e)).map(t=>t.identifier)}function Pe(e){const t="buttons"in e?e.buttons:0,{shiftKey:o,altKey:n,metaKey:r,ctrlKey:s}=e;return{buttons:t,shiftKey:o,altKey:n,metaKey:r,ctrlKey:s}}const lr=e=>e;function Me(e,t=lr){const o=pn(e),{clientX:n,clientY:r}=o?o[0]:e;return t([n,r])}function vn(){}function _n(...e){return e.length===0?vn:e.length===1?e[0]:function(){var t;for(let o of e)t=o.apply(this,arguments)||t;return t}}function ft(e,t){if(e===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function Be(e,...t){return typeof e=="function"?e(...t):e}function Et(e){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:vn,canceled:!1,memo:void 0,args:void 0,...e}}function me(){const e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=Et({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),o=Et({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),n=Et({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),r=Et({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),s=Et({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:o,wheel:n,move:r,scroll:s}}var ur=Object.defineProperty,dr=(e,t,o)=>t in e?ur(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Q=(e,t,o)=>(dr(e,typeof t!="symbol"?t+"":t,o),o);class fr{constructor(t){this.classes=t,Q(this,"nativeRefs"),Q(this,"config"),Q(this,"handlers"),Q(this,"state"),Q(this,"timeouts"),Q(this,"domListeners"),Q(this,"windowListeners"),Q(this,"pointerIds",new Set),Q(this,"touchIds",new Set),Q(this,"supportsTouchEvents",mn()),Q(this,"supportsGestureEvents",cr()),Q(this,"bind",(...o)=>{const n={};for(let r of this.classes)new r(this,o).addBindings(n);for(let r in this.nativeRefs)at(n,r,s=>this.nativeRefs[r]({...this.state.shared,event:s,args:o}));return this.config.domTarget?vr(this,n):_r(this,n)}),Q(this,"clean",()=>{const{eventOptions:o,domTarget:n}=this.config,r=l(n);r&&Tt(r,wn(this.domListeners),o),Object.values(this.timeouts).forEach(clearTimeout),mr(this)}),Q(this,"reset",()=>{this.state=me()}),this.classes=t,this.state=me(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function hr(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(yn(t))}function gr(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):yn(t).forEach(o=>e.touchIds.delete(o))}function mr(e){const{config:{window:t,eventOptions:o},windowListeners:n}=e,r=l(t);if(r){for(let s in n){const i=n[s];Tt(r,i,o)}e.windowListeners={}}}function pr({config:e,windowListeners:t},o,n=e.eventOptions){const r=l(e.window);r&&(Tt(r,t[o],n),delete t[o])}function yr({config:e,windowListeners:t},o,n=[],r=e.eventOptions){const s=l(e.window);s&&(Tt(s,t[o],r),bn(s,t[o]=n,r))}function vr({config:e,domListeners:t},o){const{eventOptions:n,domTarget:r}=e,s=l(r);if(!s)throw new Error("domTarget must be defined");Tt(s,wn(t),n);for(let[i,a]of Object.entries(o)){const c=i.slice(2).toLowerCase();t.push([c,_n(...a)])}bn(s,t,n)}function _r({config:e},t){const o={},n=e.eventOptions.capture?"Capture":"";for(let[r,s]of Object.entries(t)){const i=Array.isArray(s)?s:[s],a=r+n;o[a]=_n(...i)}return o}function wn(e=[]){return e.splice(0,e.length)}function at(e,t,o){e[t]||(e[t]=[]),e[t].push(o)}function bn(e,t=[],o={}){if(e)for(let[n,r]of t)e.addEventListener(n,r,o)}function Tt(e,t=[],o={}){if(e)for(let[n,r]of t)e.removeEventListener(n,r,o)}function pe(e,t){return e.map((o,n)=>o+t[n])}function Cn(e,t){return e.map((o,n)=>o-t[n])}function ye(e){return Math.hypot(...e)}function wr(e,t,o){const n=ye(t),r=n===0?0:1/n,s=o===0?0:1/o,i=s*n,a=t.map(g=>s*g),c=t.map(g=>r*g),h=ye(e);return{velocities:a,velocity:i,distance:h,direction:c}}function ve(e){return Math.sign?Math.sign(e):+(e>0)-+(e<0)||+e}function br(e,t,o){return Math.max(t,Math.min(e,o))}function Cr(e,t){return Math.pow(e,t*5)}function Ae(e,t,o){return t===0||Math.abs(t)===1/0?Cr(e,o):e*t*o/(t+o*e)}function Re(e,t,o,n=.15){return n===0?br(e,t,o):e<t?-Ae(t-e,o-t,n)+t:e>o?+Ae(e-o,o-t,n)+o:e}var kr=Object.defineProperty,xr=(e,t,o)=>t in e?kr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Lt=(e,t,o)=>(xr(e,typeof t!="symbol"?t+"":t,o),o);const gt=new Map,Er=e=>e;class Dr{constructor(t,o=[]){this.controller=t,this.args=o,Lt(this,"debounced",!0),Lt(this,"setTimeout",(n,r=140,...s)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(n,r,...s)}),Lt(this,"clearTimeout",()=>{clearTimeout(this.controller.timeouts[this.stateKey])}),Lt(this,"fireGestureHandler",(n=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!n&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const c=this.state.active,h=this.state._active;this.state.active=h,this.state.first=h&&!c,this.state.last=c&&!h,this.controller.state.shared[this.ingKey]=h}const r=this.controller.pointerIds.size||this.controller.touchIds.size,s=this.controller.state.shared.buttons>0||r>0,i={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:r,down:s},a=this.handler(i);return this.state.memo=a!==void 0?a:this.state.memo,i}),this.controller=t,this.args=o}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||Er}updateSharedState(t){Object.assign(this.controller.state.shared,t)}updateGestureState(t){Object.assign(this.state,t)}checkIntentionality(t,o){return{_intentional:t,_blocked:!1}}getMovement(t){const{rubberband:o,threshold:n}=this.config,{_bounds:r,_initial:s,_active:i,_intentional:a,lastOffset:c,movement:h}=this.state,g=this.getInternalMovement(t,this.state),k=this.transform(n).map(Math.abs),y=a[0]===!1?Le(g[0],k[0]):a[0],f=a[1]===!1?Le(g[1],k[1]):a[1],x=this.checkIntentionality([y,f],g);if(x._blocked)return{...x,_movement:g,delta:[0,0]};const I=x._intentional,z=g;let E=[I[0]!==!1?g[0]-I[0]:0,I[1]!==!1?g[1]-I[1]:0];const U=pe(E,c),B=i?o:[0,0];return E=Ne(r,pe(E,s),B),{...x,intentional:I[0]!==!1||I[1]!==!1,_initial:s,_movement:z,movement:E,values:t,offset:Ne(r,U,B),delta:Cn(E,h)}}clean(){this.clearTimeout()}}function Le(e,t){return Math.abs(e)>=t?ve(e)*t:!1}function Ne(e,[t,o],[n,r]){const[[s,i],[a,c]]=e;return[Re(t,s,i,n),Re(o,a,c,r)]}function Gt({state:e},t,o){const{timeStamp:n,type:r}=t,s=e.values,i=o?0:n-e.startTime;return{_lastEventType:r,event:t,timeStamp:n,elapsedTime:i,previous:s}}function Ir({state:e,config:t,stateKey:o,args:n},r,s){const i=e.offset,a=s.timeStamp,{initial:c,bounds:h}=t,g={...me()[o],_active:!0,args:n,values:r,initial:r,offset:i,lastOffset:i,startTime:a};return{...g,_initial:Be(c,g),_bounds:Be(h,g)}}class Tr extends Dr{getInternalMovement(t,o){return Cn(t,o.initial)}checkIntentionality(t,o){if(t[0]===!1&&t[1]===!1)return{_intentional:t,axis:this.state.axis};const[n,r]=o.map(Math.abs),s=this.state.axis||(n>r?"x":n<r?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:t,_blocked:!1,axis:s}:s?this.config.axis&&s!==this.config.axis?{_intentional:t,_blocked:!0,axis:s}:(t[s==="x"?1:0]=!1,{_intentional:t,_blocked:!1,axis:s}):{_intentional:[!1,!1],_blocked:!1,axis:s}}getKinematics(t,o){const n=this.getMovement(t);if(!n._blocked){const r=o.timeStamp-this.state.timeStamp;Object.assign(n,wr(n.movement,n.delta,r))}return n}mapStateValues(t){return{xy:t.values,vxvy:t.velocities}}}var Sr=Object.defineProperty,Pr=(e,t,o)=>t in e?Sr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,H=(e,t,o)=>(Pr(e,typeof t!="symbol"?t+"":t,o),o);const Mr=3;function Ue(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}class Br extends Tr{constructor(){super(...arguments),H(this,"ingKey","dragging"),H(this,"stateKey","drag"),H(this,"setPointerCapture",t=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:o,pointerId:n}=t;o&&"setPointerCapture"in o&&o.setPointerCapture(n),this.updateGestureState({_dragTarget:o,_dragPointerId:n})}),H(this,"releasePointerCapture",()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:t,_dragPointerId:o}=this.state;if(o&&t&&"releasePointerCapture"in t&&(!("hasPointerCapture"in t)||t.hasPointerCapture(o)))try{t.releasePointerCapture(o)}catch{}}),H(this,"preventScroll",t=>{this.state._dragPreventScroll&&t.cancelable&&t.preventDefault()}),H(this,"getEventId",t=>this.config.useTouch?t.changedTouches[0].identifier:t.pointerId),H(this,"isValidEvent",t=>this.state._pointerId===this.getEventId(t)),H(this,"shouldPreventWindowScrollY",this.config.preventWindowScrollY&&this.controller.supportsTouchEvents),H(this,"setUpWindowScrollDetection",t=>{Ue(t),yr(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,t)}),H(this,"setUpDelayedDragTrigger",t=>{this.state._dragDelayed=!0,Ue(t),this.setTimeout(this.startDrag.bind(this),this.config.delay,t)}),H(this,"setStartState",t=>{const o=Me(t,this.transform);this.updateSharedState(Pe(t)),this.updateGestureState({...Ir(this,o,t),...Gt(this,t,!0),_pointerId:this.getEventId(t)}),this.updateGestureState(this.getMovement(o))}),H(this,"onDragStart",t=>{hr(this.controller,t),!(!this.enabled||this.state._active)&&(this.setStartState(t),this.setPointerCapture(t),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(t):this.config.delay>0?this.setUpDelayedDragTrigger(t):this.startDrag(t,!0))}),H(this,"onDragChange",t=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(t)||this.state._lastEventType===t.type&&t.timeStamp===this.state.timeStamp)return;let o;if(document.pointerLockElement){const{movementX:c,movementY:h}=t;o=pe(this.transform([c,h]),this.state.values)}else o=Me(t,this.transform);const n=this.getKinematics(o,t);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(t);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&n.axis)if(n.axis==="x")this.startDrag(t);else{this.state._active=!1;return}else return;else return}const r=Pe(t);this.updateSharedState(r);const s=Gt(this,t),i=ye(n._movement);let{_dragIsTap:a}=this.state;a&&i>=Mr&&(a=!1),this.updateGestureState({...s,...n,_dragIsTap:a}),this.fireGestureHandler()}),H(this,"onDragEnd",t=>{if(gr(this.controller,t),!this.isValidEvent(t)||(this.clean(),!this.state._active))return;this.state._active=!1;const o=this.state._dragIsTap,[n,r]=this.state.velocities,[s,i]=this.state.movement,[a,c]=this.state._intentional,[h,g]=this.config.swipeVelocity,[k,y]=this.config.swipeDistance,f=this.config.swipeDuration,x={...Gt(this,t),...this.getMovement(this.state.values)},I=[0,0];x.elapsedTime<f&&(a!==!1&&Math.abs(n)>h&&Math.abs(s)>k&&(I[0]=ve(n)),c!==!1&&Math.abs(r)>g&&Math.abs(i)>y&&(I[1]=ve(r))),this.updateSharedState({buttons:0}),this.updateGestureState({...x,tap:o,swipe:I}),this.fireGestureHandler(this.config.filterTaps&&o===!0)}),H(this,"clean",()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),pr(this.controller,this.stateKey)}),H(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),Yn(this.fireGestureHandler))}),H(this,"onClick",t=>{this.state._dragIsTap||t.stopPropagation()})}startDrag(t,o=!1){!this.state._active||this.state._dragStarted||(o||this.setStartState(t),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(t){if(this.config.useTouch?(at(t,"onTouchStart",this.onDragStart),at(t,"onTouchMove",this.onDragChange),at(t,"onTouchEnd",this.onDragEnd),at(t,"onTouchCancel",this.onDragEnd)):(at(t,"onPointerDown",this.onDragStart),at(t,"onPointerMove",this.onDragChange),at(t,"onPointerUp",this.onDragEnd),at(t,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const o=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";at(t,o,this.onClick)}}}function Ar(e,t){let o,n=[],r,s=!1;function i(...a){return s&&o===this&&t(a,n)||(r=e.apply(this,a),s=!0,o=this,n=a),r}return i}function Ut(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let o,n,r;if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;n--!==0;)if(!Ut(e[n],t[n]))return!1;return!0}let s;if(typeof Map=="function"&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;for(s=e.entries();!(n=s.next()).done;)if(!Ut(n.value[1],t.get(n.value[0])))return!1;return!0}if(typeof Set=="function"&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(r=Object.keys(e),o=r.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[n]))return!1;if(typeof Element<"u"&&e instanceof Element)return!1;for(n=o;n--!==0;)if(!(r[n]==="_owner"&&e.$$typeof)&&!Ut(e[r[n]],t[r[n]]))return!1;return!0}return e!==e&&t!==t}function Rr(e,t){try{return Ut(e,t)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}}function _e(e={},t){const o={};for(const[n,r]of Object.entries(t))switch(typeof r){case"function":o[n]=r.call(o,e[n],n,e);break;case"object":o[n]=_e(e[n],r);break;case"boolean":r&&(o[n]=e[n]);break}return o}const Lr=180,Nr=.15,Ur=.5,Fr=50,Or=250,qr={threshold(e=0){return ft(e)},rubberband(e=0){switch(e){case!0:return ft(Nr);case!1:return ft(0);default:return ft(e)}},enabled(e=!0){return e},triggerAllEvents(e=!1){return e},initial(e=0){return typeof e=="function"?e:ft(e)},transform:!0},kn={...qr,axis:!0,lockDirection(e=!1){return e},bounds(e={}){if(typeof e=="function")return s=>kn.bounds(e(s));const{left:t=-1/0,right:o=1/0,top:n=-1/0,bottom:r=1/0}=e;return[[t,o],[n,r]]}},zr=typeof window<"u"&&window.document&&window.document.createElement,Vr={enabled(e=!0){return e},domTarget:!0,window(e=zr?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform:!0},jr={...kn,useTouch(e=!0){return e&&mn()},preventWindowScrollY(e=!1){return e},threshold(e,t,{filterTaps:o=!1,lockDirection:n=!1,axis:r=void 0}){const s=ft(e,o?3:n||r?1:0);return this.filterTaps=o,s},swipeVelocity(e=Ur){return ft(e)},swipeDistance(e=Fr){return ft(e)},swipeDuration(e=Or){return e},delay(e=0){switch(e){case!0:return Lr;case!1:return 0;default:return e}}};function Kr(e){return _e(e,Vr)}function Gr(e={}){return _e(e,jr)}function Hr({domTarget:e,eventOptions:t,window:o,enabled:n,...r}){const s=Kr({domTarget:e,eventOptions:t,window:o,enabled:n});return s.drag=Gr(r),s}function Yr(e,t,o={}){const n=Jr(e),r=new fr(n);return r.config=t,r.handlers=e,r.nativeRefs=o,Hn()&&!t.manual&&(hn(r.bind),gn(r.clean)),r}function Jr(e){const t=new Set;return e.drag&&t.add(gt.get("drag")),e.wheel&&t.add(gt.get("wheel")),e.scroll&&t.add(gt.get("scroll")),e.move&&t.add(gt.get("move")),e.pinch&&t.add(gt.get("pinch")),e.hover&&t.add(gt.get("hover")),t}function Wr(e,t={}){gt.set("drag",Br);const o=Z();return o.value||(o.value=Ar(Hr,Rr)),Yr({drag:e},o.value(t))}function Qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _t={},Ht,Fe;function Xr(){return Fe||(Fe=1,Ht=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Ht}var Yt={},dt={},Oe;function mt(){if(Oe)return dt;Oe=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return dt.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},dt.getSymbolTotalCodewords=function(n){return t[n]},dt.getBCHDigit=function(o){let n=0;for(;o!==0;)n++,o>>>=1;return n},dt.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');e=n},dt.isKanjiModeEnabled=function(){return typeof e<"u"},dt.toSJIS=function(n){return e(n)},dt}var Jt={},qe;function we(){return qe||(qe=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+o)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,r){if(e.isValid(n))return n;try{return t(n)}catch{return r}}})(Jt)),Jt}var Wt,ze;function Zr(){if(ze)return Wt;ze=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const o=Math.floor(t/8);return(this.buffer[o]>>>7-t%8&1)===1},put:function(t,o){for(let n=0;n<o;n++)this.putBit((t>>>o-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),t&&(this.buffer[o]|=128>>>this.length%8),this.length++}},Wt=e,Wt}var Qt,Ve;function $r(){if(Ve)return Qt;Ve=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,o,n,r){const s=t*this.size+o;this.data[s]=n,r&&(this.reservedBit[s]=!0)},e.prototype.get=function(t,o){return this.data[t*this.size+o]},e.prototype.xor=function(t,o,n){this.data[t*this.size+o]^=n},e.prototype.isReserved=function(t,o){return this.reservedBit[t*this.size+o]},Qt=e,Qt}var Xt={},je;function to(){return je||(je=1,(function(e){const t=mt().getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const r=Math.floor(n/7)+2,s=t(n),i=s===145?26:Math.ceil((s-13)/(2*r-2))*2,a=[s-7];for(let c=1;c<r-1;c++)a[c]=a[c-1]-i;return a.push(6),a.reverse()},e.getPositions=function(n){const r=[],s=e.getRowColCoords(n),i=s.length;for(let a=0;a<i;a++)for(let c=0;c<i;c++)a===0&&c===0||a===0&&c===i-1||a===i-1&&c===0||r.push([s[a],s[c]]);return r}})(Xt)),Xt}var Zt={},Ke;function eo(){if(Ke)return Zt;Ke=1;const e=mt().getSymbolSize,t=7;return Zt.getPositions=function(n){const r=e(n);return[[0,0],[r-t,0],[0,r-t]]},Zt}var $t={},Ge;function no(){return Ge||(Ge=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},e.from=function(r){return e.isValid(r)?parseInt(r,10):void 0},e.getPenaltyN1=function(r){const s=r.size;let i=0,a=0,c=0,h=null,g=null;for(let k=0;k<s;k++){a=c=0,h=g=null;for(let y=0;y<s;y++){let f=r.get(k,y);f===h?a++:(a>=5&&(i+=t.N1+(a-5)),h=f,a=1),f=r.get(y,k),f===g?c++:(c>=5&&(i+=t.N1+(c-5)),g=f,c=1)}a>=5&&(i+=t.N1+(a-5)),c>=5&&(i+=t.N1+(c-5))}return i},e.getPenaltyN2=function(r){const s=r.size;let i=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const h=r.get(a,c)+r.get(a,c+1)+r.get(a+1,c)+r.get(a+1,c+1);(h===4||h===0)&&i++}return i*t.N2},e.getPenaltyN3=function(r){const s=r.size;let i=0,a=0,c=0;for(let h=0;h<s;h++){a=c=0;for(let g=0;g<s;g++)a=a<<1&2047|r.get(h,g),g>=10&&(a===1488||a===93)&&i++,c=c<<1&2047|r.get(g,h),g>=10&&(c===1488||c===93)&&i++}return i*t.N3},e.getPenaltyN4=function(r){let s=0;const i=r.data.length;for(let c=0;c<i;c++)s+=r.data[c];return Math.abs(Math.ceil(s*100/i/5)-10)*t.N4};function o(n,r,s){switch(n){case e.Patterns.PATTERN000:return(r+s)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(r+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return r*s%2+r*s%3===0;case e.Patterns.PATTERN110:return(r*s%2+r*s%3)%2===0;case e.Patterns.PATTERN111:return(r*s%3+(r+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(r,s){const i=s.size;for(let a=0;a<i;a++)for(let c=0;c<i;c++)s.isReserved(c,a)||s.xor(c,a,o(r,c,a))},e.getBestMask=function(r,s){const i=Object.keys(e.Patterns).length;let a=0,c=1/0;for(let h=0;h<i;h++){s(h),e.applyMask(h,r);const g=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(h,r),g<c&&(c=g,a=h)}return a}})($t)),$t}var Nt={},He;function xn(){if(He)return Nt;He=1;const e=we(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Nt.getBlocksCount=function(r,s){switch(s){case e.L:return t[(r-1)*4+0];case e.M:return t[(r-1)*4+1];case e.Q:return t[(r-1)*4+2];case e.H:return t[(r-1)*4+3];default:return}},Nt.getTotalCodewordsCount=function(r,s){switch(s){case e.L:return o[(r-1)*4+0];case e.M:return o[(r-1)*4+1];case e.Q:return o[(r-1)*4+2];case e.H:return o[(r-1)*4+3];default:return}},Nt}var te={},Dt={},Ye;function ro(){if(Ye)return Dt;Ye=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let n=1;for(let r=0;r<255;r++)e[r]=n,t[n]=r,n<<=1,n&256&&(n^=285);for(let r=255;r<512;r++)e[r]=e[r-255]})(),Dt.log=function(n){if(n<1)throw new Error("log("+n+")");return t[n]},Dt.exp=function(n){return e[n]},Dt.mul=function(n,r){return n===0||r===0?0:e[t[n]+t[r]]},Dt}var Je;function oo(){return Je||(Je=1,(function(e){const t=ro();e.mul=function(n,r){const s=new Uint8Array(n.length+r.length-1);for(let i=0;i<n.length;i++)for(let a=0;a<r.length;a++)s[i+a]^=t.mul(n[i],r[a]);return s},e.mod=function(n,r){let s=new Uint8Array(n);for(;s.length-r.length>=0;){const i=s[0];for(let c=0;c<r.length;c++)s[c]^=t.mul(r[c],i);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},e.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let s=0;s<n;s++)r=e.mul(r,new Uint8Array([1,t.exp(s)]));return r}})(te)),te}var ee,We;function so(){if(We)return ee;We=1;const e=oo();function t(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(n){this.degree=n,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(n.length+this.degree);r.set(n);const s=e.mod(r,this.genPoly),i=this.degree-s.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(s,i),a}return s},ee=t,ee}var ne={},re={},oe={},Qe;function En(){return Qe||(Qe=1,oe.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),oe}var it={},Xe;function Dn(){if(Xe)return it;Xe=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+`)(?:.|[\r
]))+`;it.KANJI=new RegExp(o,"g"),it.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),it.BYTE=new RegExp(n,"g"),it.NUMERIC=new RegExp(e,"g"),it.ALPHANUMERIC=new RegExp(t,"g");const r=new RegExp("^"+o+"$"),s=new RegExp("^"+e+"$"),i=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return it.testKanji=function(c){return r.test(c)},it.testNumeric=function(c){return s.test(c)},it.testAlphanumeric=function(c){return i.test(c)},it}var Ze;function pt(){return Ze||(Ze=1,(function(e){const t=En(),o=Dn();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,i){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?s.ccBits[0]:i<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return o.testNumeric(s)?e.NUMERIC:o.testAlphanumeric(s)?e.ALPHANUMERIC:o.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function n(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+r)}}e.from=function(s,i){if(e.isValid(s))return s;try{return n(s)}catch{return i}}})(re)),re}var $e;function io(){return $e||($e=1,(function(e){const t=mt(),o=xn(),n=we(),r=pt(),s=En(),i=7973,a=t.getBCHDigit(i);function c(y,f,x){for(let I=1;I<=40;I++)if(f<=e.getCapacity(I,x,y))return I}function h(y,f){return r.getCharCountIndicator(y,f)+4}function g(y,f){let x=0;return y.forEach(function(I){const z=h(I.mode,f);x+=z+I.getBitsLength()}),x}function k(y,f){for(let x=1;x<=40;x++)if(g(y,x)<=e.getCapacity(x,f,r.MIXED))return x}e.from=function(f,x){return s.isValid(f)?parseInt(f,10):x},e.getCapacity=function(f,x,I){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof I>"u"&&(I=r.BYTE);const z=t.getSymbolTotalCodewords(f),E=o.getTotalCodewordsCount(f,x),U=(z-E)*8;if(I===r.MIXED)return U;const B=U-h(I,f);switch(I){case r.NUMERIC:return Math.floor(B/10*3);case r.ALPHANUMERIC:return Math.floor(B/11*2);case r.KANJI:return Math.floor(B/13);case r.BYTE:default:return Math.floor(B/8)}},e.getBestVersionForData=function(f,x){let I;const z=n.from(x,n.M);if(Array.isArray(f)){if(f.length>1)return k(f,z);if(f.length===0)return 1;I=f[0]}else I=f;return c(I.mode,I.getLength(),z)},e.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let x=f<<12;for(;t.getBCHDigit(x)-a>=0;)x^=i<<t.getBCHDigit(x)-a;return f<<12|x}})(ne)),ne}var se={},tn;function ao(){if(tn)return se;tn=1;const e=mt(),t=1335,o=21522,n=e.getBCHDigit(t);return se.getEncodedBits=function(s,i){const a=s.bit<<3|i;let c=a<<10;for(;e.getBCHDigit(c)-n>=0;)c^=t<<e.getBCHDigit(c)-n;return(a<<10|c)^o},se}var ie={},ae,en;function co(){if(en)return ae;en=1;const e=pt();function t(o){this.mode=e.NUMERIC,this.data=o.toString()}return t.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let r,s,i;for(r=0;r+3<=this.data.length;r+=3)s=this.data.substr(r,3),i=parseInt(s,10),n.put(i,10);const a=this.data.length-r;a>0&&(s=this.data.substr(r),i=parseInt(s,10),n.put(i,a*3+1))},ae=t,ae}var ce,nn;function lo(){if(nn)return ce;nn=1;const e=pt(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(n){this.mode=e.ALPHANUMERIC,this.data=n}return o.getBitsLength=function(r){return 11*Math.floor(r/2)+6*(r%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(r){let s;for(s=0;s+2<=this.data.length;s+=2){let i=t.indexOf(this.data[s])*45;i+=t.indexOf(this.data[s+1]),r.put(i,11)}this.data.length%2&&r.put(t.indexOf(this.data[s]),6)},ce=o,ce}var le,rn;function uo(){if(rn)return le;rn=1;const e=pt();function t(o){this.mode=e.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}return t.getBitsLength=function(n){return n*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(o){for(let n=0,r=this.data.length;n<r;n++)o.put(this.data[n],8)},le=t,le}var ue,on;function fo(){if(on)return ue;on=1;const e=pt(),t=mt();function o(n){this.mode=e.KANJI,this.data=n}return o.getBitsLength=function(r){return r*13},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(n){let r;for(r=0;r<this.data.length;r++){let s=t.toSJIS(this.data[r]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[r]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),n.put(s,13)}},ue=o,ue}var de={exports:{}},sn;function ho(){return sn||(sn=1,(function(e){var t={single_source_shortest_paths:function(o,n,r){var s={},i={};i[n]=0;var a=t.PriorityQueue.make();a.push(n,0);for(var c,h,g,k,y,f,x,I,z;!a.empty();){c=a.pop(),h=c.value,k=c.cost,y=o[h]||{};for(g in y)y.hasOwnProperty(g)&&(f=y[g],x=k+f,I=i[g],z=typeof i[g]>"u",(z||I>x)&&(i[g]=x,a.push(g,x),s[g]=h))}if(typeof r<"u"&&typeof i[r]>"u"){var E=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(E)}return s},extract_shortest_path_from_predecessor_list:function(o,n){for(var r=[],s=n;s;)r.push(s),o[s],s=o[s];return r.reverse(),r},find_path:function(o,n,r){var s=t.single_source_shortest_paths(o,n,r);return t.extract_shortest_path_from_predecessor_list(s,r)},PriorityQueue:{make:function(o){var n=t.PriorityQueue,r={},s;o=o||{};for(s in n)n.hasOwnProperty(s)&&(r[s]=n[s]);return r.queue=[],r.sorter=o.sorter||n.default_sorter,r},default_sorter:function(o,n){return o.cost-n.cost},push:function(o,n){var r={value:o,cost:n};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(de)),de.exports}var an;function go(){return an||(an=1,(function(e){const t=pt(),o=co(),n=lo(),r=uo(),s=fo(),i=Dn(),a=mt(),c=ho();function h(E){return unescape(encodeURIComponent(E)).length}function g(E,U,B){const A=[];let j;for(;(j=E.exec(B))!==null;)A.push({data:j[0],index:j.index,mode:U,length:j[0].length});return A}function k(E){const U=g(i.NUMERIC,t.NUMERIC,E),B=g(i.ALPHANUMERIC,t.ALPHANUMERIC,E);let A,j;return a.isKanjiModeEnabled()?(A=g(i.BYTE,t.BYTE,E),j=g(i.KANJI,t.KANJI,E)):(A=g(i.BYTE_KANJI,t.BYTE,E),j=[]),U.concat(B,A,j).sort(function(M,P){return M.index-P.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function y(E,U){switch(U){case t.NUMERIC:return o.getBitsLength(E);case t.ALPHANUMERIC:return n.getBitsLength(E);case t.KANJI:return s.getBitsLength(E);case t.BYTE:return r.getBitsLength(E)}}function f(E){return E.reduce(function(U,B){const A=U.length-1>=0?U[U.length-1]:null;return A&&A.mode===B.mode?(U[U.length-1].data+=B.data,U):(U.push(B),U)},[])}function x(E){const U=[];for(let B=0;B<E.length;B++){const A=E[B];switch(A.mode){case t.NUMERIC:U.push([A,{data:A.data,mode:t.ALPHANUMERIC,length:A.length},{data:A.data,mode:t.BYTE,length:A.length}]);break;case t.ALPHANUMERIC:U.push([A,{data:A.data,mode:t.BYTE,length:A.length}]);break;case t.KANJI:U.push([A,{data:A.data,mode:t.BYTE,length:h(A.data)}]);break;case t.BYTE:U.push([{data:A.data,mode:t.BYTE,length:h(A.data)}])}}return U}function I(E,U){const B={},A={start:{}};let j=["start"];for(let C=0;C<E.length;C++){const M=E[C],P=[];for(let w=0;w<M.length;w++){const R=M[w],D=""+C+w;P.push(D),B[D]={node:R,lastCount:0},A[D]={};for(let T=0;T<j.length;T++){const S=j[T];B[S]&&B[S].node.mode===R.mode?(A[S][D]=y(B[S].lastCount+R.length,R.mode)-y(B[S].lastCount,R.mode),B[S].lastCount+=R.length):(B[S]&&(B[S].lastCount=R.length),A[S][D]=y(R.length,R.mode)+4+t.getCharCountIndicator(R.mode,U))}}j=P}for(let C=0;C<j.length;C++)A[j[C]].end=0;return{map:A,table:B}}function z(E,U){let B;const A=t.getBestModeForData(E);if(B=t.from(U,A),B!==t.BYTE&&B.bit<A.bit)throw new Error('"'+E+'" cannot be encoded with mode '+t.toString(B)+`.
 Suggested mode is: `+t.toString(A));switch(B===t.KANJI&&!a.isKanjiModeEnabled()&&(B=t.BYTE),B){case t.NUMERIC:return new o(E);case t.ALPHANUMERIC:return new n(E);case t.KANJI:return new s(E);case t.BYTE:return new r(E)}}e.fromArray=function(U){return U.reduce(function(B,A){return typeof A=="string"?B.push(z(A,null)):A.data&&B.push(z(A.data,A.mode)),B},[])},e.fromString=function(U,B){const A=k(U,a.isKanjiModeEnabled()),j=x(A),C=I(j,B),M=c.find_path(C.map,"start","end"),P=[];for(let w=1;w<M.length-1;w++)P.push(C.table[M[w]].node);return e.fromArray(f(P))},e.rawSplit=function(U){return e.fromArray(k(U,a.isKanjiModeEnabled()))}})(ie)),ie}var cn;function mo(){if(cn)return Yt;cn=1;const e=mt(),t=we(),o=Zr(),n=$r(),r=to(),s=eo(),i=no(),a=xn(),c=so(),h=io(),g=ao(),k=pt(),y=go();function f(C,M){const P=C.size,w=s.getPositions(M);for(let R=0;R<w.length;R++){const D=w[R][0],T=w[R][1];for(let S=-1;S<=7;S++)if(!(D+S<=-1||P<=D+S))for(let L=-1;L<=7;L++)T+L<=-1||P<=T+L||(S>=0&&S<=6&&(L===0||L===6)||L>=0&&L<=6&&(S===0||S===6)||S>=2&&S<=4&&L>=2&&L<=4?C.set(D+S,T+L,!0,!0):C.set(D+S,T+L,!1,!0))}}function x(C){const M=C.size;for(let P=8;P<M-8;P++){const w=P%2===0;C.set(P,6,w,!0),C.set(6,P,w,!0)}}function I(C,M){const P=r.getPositions(M);for(let w=0;w<P.length;w++){const R=P[w][0],D=P[w][1];for(let T=-2;T<=2;T++)for(let S=-2;S<=2;S++)T===-2||T===2||S===-2||S===2||T===0&&S===0?C.set(R+T,D+S,!0,!0):C.set(R+T,D+S,!1,!0)}}function z(C,M){const P=C.size,w=h.getEncodedBits(M);let R,D,T;for(let S=0;S<18;S++)R=Math.floor(S/3),D=S%3+P-8-3,T=(w>>S&1)===1,C.set(R,D,T,!0),C.set(D,R,T,!0)}function E(C,M,P){const w=C.size,R=g.getEncodedBits(M,P);let D,T;for(D=0;D<15;D++)T=(R>>D&1)===1,D<6?C.set(D,8,T,!0):D<8?C.set(D+1,8,T,!0):C.set(w-15+D,8,T,!0),D<8?C.set(8,w-D-1,T,!0):D<9?C.set(8,15-D-1+1,T,!0):C.set(8,15-D-1,T,!0);C.set(w-8,8,1,!0)}function U(C,M){const P=C.size;let w=-1,R=P-1,D=7,T=0;for(let S=P-1;S>0;S-=2)for(S===6&&S--;;){for(let L=0;L<2;L++)if(!C.isReserved(R,S-L)){let ot=!1;T<M.length&&(ot=(M[T]>>>D&1)===1),C.set(R,S-L,ot),D--,D===-1&&(T++,D=7)}if(R+=w,R<0||P<=R){R-=w,w=-w;break}}}function B(C,M,P){const w=new o;P.forEach(function(L){w.put(L.mode.bit,4),w.put(L.getLength(),k.getCharCountIndicator(L.mode,C)),L.write(w)});const R=e.getSymbolTotalCodewords(C),D=a.getTotalCodewordsCount(C,M),T=(R-D)*8;for(w.getLengthInBits()+4<=T&&w.put(0,4);w.getLengthInBits()%8!==0;)w.putBit(0);const S=(T-w.getLengthInBits())/8;for(let L=0;L<S;L++)w.put(L%2?17:236,8);return A(w,C,M)}function A(C,M,P){const w=e.getSymbolTotalCodewords(M),R=a.getTotalCodewordsCount(M,P),D=w-R,T=a.getBlocksCount(M,P),S=w%T,L=T-S,ot=Math.floor(w/T),ct=Math.floor(D/T),wt=ct+1,St=ot-ct,Ft=new c(St);let yt=0;const vt=new Array(T),Pt=new Array(T);let bt=0;const Ot=new Uint8Array(C.buffer);for(let st=0;st<T;st++){const ht=st<L?ct:wt;vt[st]=Ot.slice(yt,yt+ht),Pt[st]=Ft.encode(vt[st]),yt+=ht,bt=Math.max(bt,ht)}const Ct=new Uint8Array(w);let Mt=0,nt,rt;for(nt=0;nt<bt;nt++)for(rt=0;rt<T;rt++)nt<vt[rt].length&&(Ct[Mt++]=vt[rt][nt]);for(nt=0;nt<St;nt++)for(rt=0;rt<T;rt++)Ct[Mt++]=Pt[rt][nt];return Ct}function j(C,M,P,w){let R;if(Array.isArray(C))R=y.fromArray(C);else if(typeof C=="string"){let ot=M;if(!ot){const ct=y.rawSplit(C);ot=h.getBestVersionForData(ct,P)}R=y.fromString(C,ot||40)}else throw new Error("Invalid data");const D=h.getBestVersionForData(R,P);if(!D)throw new Error("The amount of data is too big to be stored in a QR Code");if(!M)M=D;else if(M<D)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+D+`.
`);const T=B(M,P,R),S=e.getSymbolSize(M),L=new n(S);return f(L,M),x(L),I(L,M),E(L,P,0),M>=7&&z(L,M),U(L,T),isNaN(w)&&(w=i.getBestMask(L,E.bind(null,L,P))),i.applyMask(w,L),E(L,P,w),{modules:L,version:M,errorCorrectionLevel:P,maskPattern:w,segments:R}}return Yt.create=function(M,P){if(typeof M>"u"||M==="")throw new Error("No input text");let w=t.M,R,D;return typeof P<"u"&&(w=t.from(P.errorCorrectionLevel,t.M),R=h.from(P.version),D=i.from(P.maskPattern),P.toSJISFunc&&e.setToSJISFunction(P.toSJISFunc)),j(M,R,w,D)},Yt}var fe={},he={},ln;function In(){return ln||(ln=1,(function(e){function t(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let n=o.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+o);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const r=parseInt(n.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const r=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:s,scale:s?4:i,margin:r,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,r){return r.width&&r.width>=n+r.margin*2?r.width/(n+r.margin*2):r.scale},e.getImageWidth=function(n,r){const s=e.getScale(n,r);return Math.floor((n+r.margin*2)*s)},e.qrToImageData=function(n,r,s){const i=r.modules.size,a=r.modules.data,c=e.getScale(i,s),h=Math.floor((i+s.margin*2)*c),g=s.margin*c,k=[s.color.light,s.color.dark];for(let y=0;y<h;y++)for(let f=0;f<h;f++){let x=(y*h+f)*4,I=s.color.light;if(y>=g&&f>=g&&y<h-g&&f<h-g){const z=Math.floor((y-g)/c),E=Math.floor((f-g)/c);I=k[a[z*i+E]?1:0]}n[x++]=I.r,n[x++]=I.g,n[x++]=I.b,n[x]=I.a}}})(he)),he}var un;function po(){return un||(un=1,(function(e){const t=In();function o(r,s,i){r.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=i,s.width=i,s.style.height=i+"px",s.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,i,a){let c=a,h=i;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),i||(h=n()),c=t.getOptions(c);const g=t.getImageWidth(s.modules.size,c),k=h.getContext("2d"),y=k.createImageData(g,g);return t.qrToImageData(y.data,s,c),o(k,h,g),k.putImageData(y,0,0),h},e.renderToDataURL=function(s,i,a){let c=a;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),c||(c={});const h=e.render(s,i,c),g=c.type||"image/png",k=c.rendererOpts||{};return h.toDataURL(g,k.quality)}})(fe)),fe}var ge={},dn;function yo(){if(dn)return ge;dn=1;const e=In();function t(r,s){const i=r.a/255,a=s+'="'+r.hex+'"';return i<1?a+" "+s+'-opacity="'+i.toFixed(2).slice(1)+'"':a}function o(r,s,i){let a=r+s;return typeof i<"u"&&(a+=" "+i),a}function n(r,s,i){let a="",c=0,h=!1,g=0;for(let k=0;k<r.length;k++){const y=Math.floor(k%s),f=Math.floor(k/s);!y&&!h&&(h=!0),r[k]?(g++,k>0&&y>0&&r[k-1]||(a+=h?o("M",y+i,.5+f+i):o("m",c,0),c=0,h=!1),y+1<s&&r[k+1]||(a+=o("h",g),g=0)):c++}return a}return ge.render=function(s,i,a){const c=e.getOptions(i),h=s.modules.size,g=s.modules.data,k=h+c.margin*2,y=c.color.light.a?"<path "+t(c.color.light,"fill")+' d="M0 0h'+k+"v"+k+'H0z"/>':"",f="<path "+t(c.color.dark,"stroke")+' d="'+n(g,h,c.margin)+'"/>',x='viewBox="0 0 '+k+" "+k+'"',z='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+x+' shape-rendering="crispEdges">'+y+f+`</svg>
`;return typeof a=="function"&&a(null,z),z},ge}var fn;function vo(){if(fn)return _t;fn=1;const e=Xr(),t=mo(),o=po(),n=yo();function r(s,i,a,c,h){const g=[].slice.call(arguments,1),k=g.length,y=typeof g[k-1]=="function";if(!y&&!e())throw new Error("Callback required as last argument");if(y){if(k<2)throw new Error("Too few arguments provided");k===2?(h=a,a=i,i=c=void 0):k===3&&(i.getContext&&typeof h>"u"?(h=c,c=void 0):(h=c,c=a,a=i,i=void 0))}else{if(k<1)throw new Error("Too few arguments provided");return k===1?(a=i,i=c=void 0):k===2&&!i.getContext&&(c=a,a=i,i=void 0),new Promise(function(f,x){try{const I=t.create(a,c);f(s(I,i,c))}catch(I){x(I)}})}try{const f=t.create(a,c);h(null,s(f,i,c))}catch(f){h(f)}}return _t.create=t.create,_t.toCanvas=r.bind(null,o.render),_t.toDataURL=r.bind(null,o.renderToDataURL),_t.toString=r.bind(null,function(s,i,a){return n.render(s,a)}),_t}var _o=vo();const wo=Qr(_o),bo={class:"min-h-dvh bg-background"},Co={class:"sticky top-0 z-10 bg-card/80 backdrop-blur-lg border-b border-border"},ko={class:"flex items-center gap-4 px-4 py-4"},xo={class:"heading flex-1 font-display text-lg font-bold tracking-tight",initial:{opacity:0,y:-10},enter:{opacity:1,y:0,transition:{delay:100}}},Eo={class:"flex gap-2"},Do={key:0,class:"p-4 space-y-6"},Io={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:200}}},To={class:"flex items-center justify-between mb-3"},So={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},Po={class:"grid grid-cols-4 gap-2"},Mo={class:"font-display text-base font-semibold text-primary"},Bo={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:250}}},Ao={class:"flex items-center justify-between mb-3"},Ro={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},Lo={key:0,class:"grid grid-cols-2 gap-2"},No={class:"flex items-center gap-2"},Uo=["onClick"],Fo={class:"font-medium text-foreground"},Oo={class:"text-xs text-muted-foreground"},qo={key:0,class:"ml-1 text-primary"},zo=["onClick"],Vo=["onClick"],jo={class:"flex items-center justify-between mb-3"},Ko={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},Go={class:"text-xs text-muted-foreground"},Ho={class:"grid grid-cols-3 sm:grid-cols-4 gap-3"},Yo={class:"text-xs text-muted-foreground uppercase"},Jo={class:"die-value block font-display text-2xl font-bold text-accent mt-1"},Wo=["onClick"],Qo=["onClick"],Xo={class:"text-xs text-muted-foreground truncate block"},Zo=["onClick"],$o=["onClick"],ts={class:"text-muted-foreground"},es={class:"font-display text-2xl font-bold text-accent"},ns={key:1,class:"dice-empty text-center text-muted-foreground py-12",initial:{opacity:0},enter:{opacity:1,transition:{delay:300}}},rs={key:1,class:"p-4 space-y-6"},os={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:200}}},ss={class:"flex items-center justify-between mb-3"},is={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},as={key:0,class:"space-y-3"},cs={class:"mb-3"},ls={class:"font-semibold text-foreground"},us={class:"flex flex-wrap gap-1 mt-2"},ds={class:"flex gap-2 pt-3 border-t border-border"},fs={key:1,class:"text-center py-12"},hs={class:"text-muted-foreground mb-4"},gs={key:2,class:"p-4 space-y-6"},ms={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:100}}},ps={class:"text-lg font-semibold text-foreground mb-6"},ys={class:"space-y-4"},vs={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-2 block"},_s={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-2 block"},ws={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-2 block"},bs={class:"space-y-3"},Cs={class:"flex items-center gap-2 mb-3"},ks=["onClick"],xs={class:"flex flex-wrap gap-1 mb-3"},Es=["onClick"],Ds={class:"flex flex-wrap gap-1"},Is=["onClick"],Ts={key:3,class:"p-4 space-y-6"},Ss={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:100}}},Ps={class:"text-lg font-semibold text-foreground mb-6"},Ms={class:"space-y-4"},Bs={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-2 block"},As={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-2 block"},Rs={class:"grid grid-cols-4 gap-2"},Ls={class:"font-display text-sm font-semibold text-primary"},Ns={key:0,class:"flex items-center justify-center gap-1"},Us={class:"text-sm text-foreground"},Fs=["onClick"],Os={key:0},qs={class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-2 block"},zs={class:"flex flex-wrap gap-2"},Vs=["onClick"],js={key:4,class:"p-4 space-y-6"},Ks={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:100}}},Gs={class:"text-lg font-semibold text-foreground mb-6"},Hs={class:"grid grid-cols-2 gap-3"},Ys={class:"text-center mb-3"},Js={class:"font-display text-2xl font-bold text-primary"},Ws={class:"text-xs text-muted-foreground mt-1"},Qs={class:"flex items-center justify-center gap-2"},Xs=["disabled","onClick"],Zs={class:"catalog-count w-8 text-center font-display text-lg font-semibold"},$s=["onClick"],ti={class:"flex items-center justify-between mb-3"},ei={class:"text-sm text-muted-foreground"},ni={class:"flex flex-wrap gap-2 mb-4"},ri={key:1,class:"text-center text-muted-foreground py-8"},oi={class:"flex items-center justify-between"},si={class:"text-lg font-semibold"},ii={class:"text-sm text-muted-foreground"},ai={key:0,class:"flex justify-center"},ci=["src"],li={class:"flex gap-2"},ui=15,di=1e3,Pi=Jn({__name:"dice",setup(e){const{t}=Wn(),o=[3,4,6,8,10,12,20,100],n=["#818cf8","#f472b6","#34d399","#fbbf24","#f87171","#60a5fa","#a78bfa","#fb923c"],r=["1","2","3","4","5","6","+","-","?","!","X","O","*","@","#","%","&","$"],s=Z("roll"),i=Z([]),a=Z([]),c=Z([]),h=Z(!1),{data:g}=De("gamepal-custom-dice",[]),{data:k}=De("gamepal-dice-presets",[]),y=Z({name:"",game:"",faces:[{value:"",color:null},{value:"",color:null}]}),f=Z({name:"",standardDice:[],customDiceIds:[]}),x=Z(null),I=Z(!1),z=Z(null),E=Z(null),U=Z(null);let B=0;const A=jt(()=>a.value.reduce((u,v)=>u+(v.value??0),0)),j=jt(()=>a.value.length>0||c.value.length>0),C=jt(()=>i.value.reduce((p,u)=>p+u.count,0));function M(p){const u=i.value.find(v=>v.type===p);u?u.count++:i.value.push({type:p,count:1})}function P(p){const u=i.value.findIndex(v=>v.type===p);if(u!==-1){const v=i.value[u];if(!v)return;v.count>1?v.count--:i.value.splice(u,1)}}function w(p){return i.value.find(v=>v.type===p)?.count??0}function R(){for(const p of i.value)for(let u=0;u<p.count;u++)T(p.type);i.value=[],s.value="roll"}function D(){i.value=[]}function T(p){const u={id:Rt(),type:p,value:null,isLocked:!1};a.value.push(u)}function S(p){const u=a.value.findIndex(v=>v.id===p);u!==-1&&a.value.splice(u,1)}function L(p){const u={id:Rt(),name:p.name,faces:[...p.faces],currentFaceIndex:null,isLocked:!1,game:p.game};c.value.push(u)}function ot(p){const u=c.value.findIndex(v=>v.id===p);u!==-1&&c.value.splice(u,1)}function ct(){a.value=[],c.value=[]}function wt(){if(!j.value)return;h.value=!0;let p=0;const u=10,v=tr(()=>{for(const O of a.value)O.isLocked||(O.value=Math.floor(Math.random()*O.type)+1);for(const O of c.value)O.isLocked||(O.currentFaceIndex=Math.floor(Math.random()*O.faces.length));p++,p>=u&&(clearInterval(v),h.value=!1)},80)}function St(p){const u=a.value.find(v=>v.id===p);u&&(u.isLocked=!u.isLocked)}function Ft(p){const u=c.value.find(v=>v.id===p);u&&(u.isLocked=!u.isLocked)}function yt(p){return`D${p}`}function vt(){y.value.faces.push({value:"",color:null})}function Pt(p){y.value.faces.length>2&&y.value.faces.splice(p,1)}function bt(p,u){const v=y.value.faces[p];v&&(v.color=u)}function Ot(p,u){const v=y.value.faces[p];v&&(v.value=u)}function Ct(){const p=y.value.name.trim();if(p===""||y.value.faces.some(v=>v.value.trim()===""))return;const u={id:Rt(),name:p,faces:y.value.faces.map(v=>({value:v.value.trim(),color:v.color})),currentFaceIndex:null,isLocked:!1,game:y.value.game.trim()||null};g.value.push(u),ht(),s.value="roll"}function Mt(p){const u=g.value.findIndex(v=>v.id===p);u!==-1&&g.value.splice(u,1)}async function nt(p){z.value=p;const u={name:p.name,faces:p.faces};try{E.value=await wo.toDataURL(JSON.stringify(u),{width:256,margin:2,color:{dark:"#000000",light:"#ffffff"}}),I.value=!0}catch{console.log("Erreur lors de la generation du QR code")}}function rt(p){const u={name:p.name,faces:p.faces},v=JSON.stringify(u,null,2),O=new Blob([v],{type:"application/json"}),lt=URL.createObjectURL(O),Y=document.createElement("a");Y.href=lt,Y.download=`${p.name.toLowerCase().replace(/\s+/g,"-")}.json`,Y.click(),URL.revokeObjectURL(lt)}function st(){I.value=!1,z.value=null,E.value=null}function ht(){y.value={name:"",game:"",faces:[{value:"",color:null},{value:"",color:null}]}}function Tn(p){const u=f.value.standardDice.find(v=>v.type===p);u?u.count++:f.value.standardDice.push({type:p,count:1})}function Sn(p){const u=f.value.standardDice.findIndex(v=>v.type===p);if(u!==-1){const v=f.value.standardDice[u];if(!v)return;v.count>1?v.count--:f.value.standardDice.splice(u,1)}}function Pn(p){const u=f.value.customDiceIds.indexOf(p);u!==-1?f.value.customDiceIds.splice(u,1):f.value.customDiceIds.push(p)}function be(p){return f.value.standardDice.find(v=>v.type===p)?.count??0}function Mn(p){return f.value.customDiceIds.includes(p)}function Bn(){const p=f.value.name.trim();if(p!==""&&!(f.value.standardDice.length===0&&f.value.customDiceIds.length===0)){if(x.value){const u=k.value.find(v=>v.id===x.value);u&&(u.name=p,u.standardDice=[...f.value.standardDice],u.customDice=f.value.customDiceIds.map(v=>g.value.find(O=>O.id===v)).filter(v=>v!==void 0))}else{const u={id:Rt(),name:p,standardDice:[...f.value.standardDice],customDice:f.value.customDiceIds.map(v=>g.value.find(O=>O.id===v)).filter(v=>v!==void 0)};k.value.push(u)}qt(),s.value="presets"}}function An(p){x.value=p.id,f.value={name:p.name,standardDice:[...p.standardDice],customDiceIds:p.customDice.map(u=>u.id)},s.value="createPreset"}function Rn(p){const u=k.value.findIndex(v=>v.id===p);u!==-1&&k.value.splice(u,1)}function Ln(p){ct();for(const u of p.standardDice)for(let v=0;v<u.count;v++)T(u.type);for(const u of p.customDice)L(u);s.value="roll"}function qt(){x.value=null,f.value={name:"",standardDice:[],customDiceIds:[]}}function Ce(){ht(),s.value="createCustom"}function ke(){qt(),s.value="createPreset"}function Nn(){D(),s.value="catalog"}function Un(){s.value="roll",ht(),qt(),D()}function xe(p){const u=p.accelerationIncludingGravity;if(!u)return;const v=u.x??0,O=u.y??0,lt=u.z??0;if(Math.sqrt(v*v+O*O+lt*lt)>ui){const kt=Date.now();kt-B>di&&(B=kt,j.value&&!h.value&&s.value==="roll"&&wt())}}return hn(()=>{typeof window<"u"&&"DeviceMotionEvent"in window&&window.addEventListener("devicemotion",xe)}),Qn(U,p=>{p&&Wr(({movement:[u,v],dragging:O})=>{!O&&v<-50&&j.value&&!h.value&&wt()},{domTarget:p})},{immediate:!0}),gn(()=>{typeof window<"u"&&"DeviceMotionEvent"in window&&window.removeEventListener("devicemotion",xe)}),(p,u)=>{const v=On,O=qn,lt=zn,Y=Vn,kt=jn,zt=Kn,Bt=Gn,$=Xn("motion");return _(),N("div",bo,[m("header",Co,[m("div",ko,[tt((_(),K(v,{to:"/",class:"dice-page__back flex h-10 w-10 items-center justify-center rounded-full text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",initial:{opacity:0,x:-10},enter:{opacity:1,x:0}},{default:q(()=>[F(l(er),{class:"h-5 w-5"})]),_:1})),[[$]]),tt((_(),N("h1",xo,[G(b(l(t)("dice.title")),1)])),[[$]]),m("div",Eo,[l(s)==="roll"&&l(j)?(_(),K(O,{key:0,variant:"ghost",size:"sm",class:"dice-page__clear text-destructive hover:text-destructive",onClick:ct},{default:q(()=>[G(b(l(t)("common.clear")),1)]),_:1})):et("",!0),l(s)!=="roll"?(_(),K(O,{key:1,variant:"ghost",size:"sm",class:"dice-page__cancel",onClick:Un},{default:q(()=>[G(b(l(t)("common.cancel")),1)]),_:1})):et("",!0)])])]),l(s)==="roll"?(_(),N("div",Do,[tt(F(lt,{tabs:[{value:"roll",label:l(t)("dice.roll"),icon:l(Kt)},{value:"presets",label:l(t)("dice.presets"),icon:l(Se)}],"model-value":"roll",initial:{opacity:0,y:10},enter:{opacity:1,y:0,transition:{delay:150}},"onUpdate:modelValue":u[0]||(u[0]=d=>s.value=d)},null,8,["tabs"]),[[$]]),tt((_(),N("section",Io,[m("div",To,[m("h2",So,b(l(t)("dice.standardDice")),1),F(O,{variant:"ghost",size:"sm",class:"catalog-btn",onClick:Nn},{default:q(()=>[F(l(ar),{class:"h-4 w-4 mr-1"}),G(" "+b(l(t)("dice.catalog")),1)]),_:1})]),m("div",Po,[(_(),N(J,null,W(o,d=>F(Y,{key:d,hoverable:"",class:"dice-type-card p-3 cursor-pointer text-center",onClick:V=>T(d)},{default:q(()=>[m("span",Mo,b(yt(d)),1)]),_:2},1032,["onClick"])),64))])])),[[$]]),tt((_(),N("section",Bo,[m("div",Ao,[m("h2",Ro,b(l(t)("dice.customDice")),1),l(g).length>0?(_(),K(kt,{key:0,size:"sm",class:"custom-dice-add",onClick:Ce},{default:q(()=>[F(l(At),{class:"h-4 w-4"})]),_:1})):et("",!0)]),l(g).length>0?(_(),N("div",Lo,[(_(!0),N(J,null,W(l(g),d=>(_(),K(Y,{key:d.id,hoverable:"",class:"custom-die-card p-3 cursor-pointer"},{default:q(()=>[m("div",No,[m("button",{class:"flex-1 text-left",onClick:V=>L(d)},[m("p",Fo,b(d.name),1),m("p",Oo,[G(b(d.faces.length)+" "+b(l(t)("dice.faces"))+" ",1),d.game?(_(),N("span",qo,"- "+b(d.game),1)):et("",!0)])],8,Uo),m("button",{class:"custom-die-card__export p-1 text-muted-foreground hover:text-primary transition-colors",onClick:Vt(V=>nt(d),["stop"])},[F(l(ir),{class:"h-4 w-4"})],8,zo),m("button",{class:"custom-die-card__delete p-1 text-muted-foreground hover:text-destructive transition-colors",onClick:Vt(V=>Mt(d.id),["stop"])},[F(l(xt),{class:"h-4 w-4"})],8,Vo)])]),_:2},1024))),128))])):(_(),N("button",{key:1,class:"create-custom-btn w-full p-4 border-2 border-dashed border-muted-foreground/30 rounded-lg text-muted-foreground text-sm hover:border-primary hover:text-primary transition-colors",onClick:Ce},b(l(t)("dice.createCustomDie")),1))])),[[$]]),l(j)?tt((_(),N("section",{key:0,ref_key:"diceTrayRef",ref:U,initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:300}}},[m("div",jo,[m("h2",Ko,b(l(t)("dice.yourDice")),1),m("span",Go,b(l(t)("dice.swipeToRoll")),1)]),m("div",Ho,[(_(!0),N(J,null,W(l(a),d=>(_(),K(Y,{key:d.id,class:ut(["die-in-tray relative p-3 text-center",{"animate-shake":l(h)&&!d.isLocked,"ring-2 ring-primary":d.isLocked}])},{default:q(()=>[m("span",Yo,b(yt(d.type)),1),m("span",Jo,b(d.value??"?"),1),m("button",{class:ut(["die-lock absolute top-1 left-1 p-1 transition-colors",d.isLocked?"text-primary":"text-muted-foreground hover:text-primary"]),onClick:V=>St(d.id)},[d.isLocked?(_(),K(l(Ie),{key:0,class:"h-3 w-3"})):(_(),K(l(Te),{key:1,class:"h-3 w-3"}))],10,Wo),m("button",{class:"die-remove absolute top-1 right-1 p-1 text-muted-foreground hover:text-destructive transition-colors",onClick:V=>S(d.id)},[F(l(xt),{class:"h-3 w-3"})],8,Qo)]),_:2},1032,["class"]))),128)),(_(!0),N(J,null,W(l(c),d=>(_(),K(Y,{key:d.id,class:ut(["die-in-tray die-in-tray--custom relative p-3 text-center",{"animate-shake":l(h)&&!d.isLocked,"ring-2 ring-primary":d.isLocked}])},{default:q(()=>[m("span",Xo,b(d.name),1),m("span",{class:"custom-face-value block font-display text-lg font-bold mt-1 px-2 py-1 rounded",style:Ee({backgroundColor:d.currentFaceIndex!==null&&d.faces[d.currentFaceIndex]?.color?d.faces[d.currentFaceIndex]?.color??"hsl(var(--primary))":"hsl(var(--primary))",color:"#ffffff"})},b(d.currentFaceIndex!==null?d.faces[d.currentFaceIndex]?.value??"?":"?"),5),m("button",{class:ut(["die-lock absolute top-1 left-1 p-1 transition-colors",d.isLocked?"text-primary":"text-muted-foreground hover:text-primary"]),onClick:V=>Ft(d.id)},[d.isLocked?(_(),K(l(Ie),{key:0,class:"h-3 w-3"})):(_(),K(l(Te),{key:1,class:"h-3 w-3"}))],10,Zo),m("button",{class:"die-remove absolute top-1 right-1 p-1 text-muted-foreground hover:text-destructive transition-colors",onClick:V=>ot(d.id)},[F(l(xt),{class:"h-3 w-3"})],8,$o)]),_:2},1032,["class"]))),128))]),l(a).length>0?(_(),K(Y,{key:0,class:"dice-total mt-4 p-4 flex items-center justify-between"},{default:q(()=>[m("span",ts,b(l(t)("dice.total")),1),m("span",es,b(l(A)),1)]),_:1})):et("",!0),F(O,{class:"roll-btn w-full mt-4",size:"lg",disabled:l(h),onClick:wt},{default:q(()=>[F(l(Kt),{class:"h-5 w-5 mr-2"}),G(" "+b(l(h)?l(t)("dice.rolling"):l(t)("dice.roll")),1)]),_:1},8,["disabled"])])),[[$]]):tt((_(),N("p",ns,[G(b(l(t)("dice.selectDice")),1)])),[[$]])])):l(s)==="presets"?(_(),N("div",rs,[tt(F(lt,{tabs:[{value:"roll",label:l(t)("dice.roll"),icon:l(Kt)},{value:"presets",label:l(t)("dice.presets"),icon:l(Se)}],"model-value":"presets",initial:{opacity:0,y:10},enter:{opacity:1,y:0,transition:{delay:150}},"onUpdate:modelValue":u[1]||(u[1]=d=>s.value=d)},null,8,["tabs"]),[[$]]),tt((_(),N("section",os,[m("div",ss,[m("h2",is,b(l(t)("dice.yourPresets")),1),F(kt,{size:"sm",class:"presets-add",onClick:ke},{default:q(()=>[F(l(At),{class:"h-4 w-4"})]),_:1})]),l(k).length>0?(_(),N("div",as,[(_(!0),N(J,null,W(l(k),d=>(_(),K(Y,{key:d.id,class:"preset-card p-4"},{default:q(()=>[m("div",cs,[m("p",ls,b(d.name),1),m("div",us,[(_(!0),N(J,null,W(d.standardDice,V=>(_(),K(zt,{key:V.type,variant:"secondary"},{default:q(()=>[G(b(V.count)+"x D"+b(V.type),1)]),_:2},1024))),128)),(_(!0),N(J,null,W(d.customDice,V=>(_(),K(zt,{key:V.id,variant:"default"},{default:q(()=>[G(b(V.name),1)]),_:2},1024))),128))])]),m("div",ds,[F(O,{size:"sm",class:"preset-load flex-1",onClick:V=>Ln(d)},{default:q(()=>[F(l($n),{class:"h-4 w-4 mr-1"}),G(" "+b(l(t)("dice.load")),1)]),_:1},8,["onClick"]),F(O,{variant:"outline",size:"sm",class:"preset-edit",onClick:V=>An(d)},{default:q(()=>[F(l(rr),{class:"h-4 w-4"})]),_:1},8,["onClick"]),F(O,{variant:"outline",size:"sm",class:"preset-delete text-destructive hover:text-destructive",onClick:V=>Rn(d.id)},{default:q(()=>[F(l(or),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]),_:2},1024))),128))])):(_(),N("div",fs,[m("p",hs,b(l(t)("dice.noPresets")),1),F(O,{variant:"outline",onClick:ke},{default:q(()=>[G(b(l(t)("dice.createPreset")),1)]),_:1})]))])),[[$]])])):l(s)==="createCustom"?(_(),N("div",gs,[tt((_(),N("section",ms,[m("h2",ps,b(l(t)("dice.createCustomDie")),1),m("div",ys,[m("div",null,[m("label",vs,b(l(t)("dice.dieName")),1),F(Bt,{modelValue:l(y).name,"onUpdate:modelValue":u[2]||(u[2]=d=>l(y).name=d),placeholder:l(t)("dice.dieNamePlaceholder")},null,8,["modelValue","placeholder"])]),m("div",null,[m("label",_s,b(l(t)("dice.gameTag")),1),F(Bt,{modelValue:l(y).game,"onUpdate:modelValue":u[3]||(u[3]=d=>l(y).game=d),placeholder:l(t)("dice.gameTagPlaceholder")},null,8,["modelValue","placeholder"])]),m("div",null,[m("label",ws,b(l(t)("dice.faces"))+" ("+b(l(y).faces.length)+") ",1),m("div",bs,[(_(!0),N(J,null,W(l(y).faces,(d,V)=>(_(),K(Y,{key:V,class:"face-editor p-3"},{default:q(()=>[m("div",Cs,[F(Bt,{modelValue:d.value,"onUpdate:modelValue":X=>d.value=X,class:"face-input flex-1 text-center text-lg",placeholder:l(t)("dice.faceValue")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),l(y).faces.length>2?(_(),N("button",{key:0,class:"face-remove p-2 text-muted-foreground hover:text-destructive transition-colors",onClick:X=>Pt(V)},[F(l(xt),{class:"h-4 w-4"})],8,ks)):et("",!0)]),m("div",xs,[(_(),N(J,null,W(r,X=>m("button",{key:X,class:ut(["emoji-btn w-8 h-8 rounded text-sm flex items-center justify-center transition-all",d.value===X?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-primary/20"]),onClick:Fn=>Ot(V,X)},b(X),11,Es)),64))]),m("div",Ds,[(_(),N(J,null,W(n,X=>m("button",{key:X,class:ut(["color-btn w-6 h-6 rounded-full border-2 transition-transform",d.color===X?"border-white scale-110":"border-transparent"]),style:Ee({backgroundColor:X}),onClick:Fn=>bt(V,d.color===X?null:X)},null,14,Is)),64))])]),_:2},1024))),128))]),m("button",{class:"add-face-btn w-full mt-3 p-3 border-2 border-dashed border-muted-foreground/30 rounded-lg text-muted-foreground text-sm hover:border-primary hover:text-primary transition-colors",onClick:vt},b(l(t)("dice.addFace")),1)])]),F(O,{class:"save-custom-die w-full mt-6",disabled:!l(y).name.trim()||l(y).faces.some(d=>!d.value.trim()),onClick:Ct},{default:q(()=>[G(b(l(t)("common.save")),1)]),_:1},8,["disabled"])])),[[$]])])):l(s)==="createPreset"?(_(),N("div",Ts,[tt((_(),N("section",Ss,[m("h2",Ps,b(l(x)?l(t)("dice.editPreset"):l(t)("dice.createPreset")),1),m("div",Ms,[m("div",null,[m("label",Bs,b(l(t)("dice.presetName")),1),F(Bt,{modelValue:l(f).name,"onUpdate:modelValue":u[4]||(u[4]=d=>l(f).name=d),placeholder:l(t)("dice.presetNamePlaceholder")},null,8,["modelValue","placeholder"])]),m("div",null,[m("label",As,b(l(t)("dice.standardDice")),1),m("div",Rs,[(_(),N(J,null,W(o,d=>m("div",{key:d,class:"text-center"},[F(Y,{hoverable:"",class:"preset-die-btn p-2 cursor-pointer mb-1",onClick:V=>Tn(d)},{default:q(()=>[m("span",Ls,"D"+b(d),1)]),_:2},1032,["onClick"]),be(d)>0?(_(),N("div",Ns,[m("span",Us,b(be(d)),1),m("button",{class:"preset-die-remove w-5 h-5 rounded-full bg-destructive text-destructive-foreground text-xs flex items-center justify-center",onClick:V=>Sn(d)}," - ",8,Fs)])):et("",!0)])),64))])]),l(g).length>0?(_(),N("div",Os,[m("label",qs,b(l(t)("dice.customDice")),1),m("div",zs,[(_(!0),N(J,null,W(l(g),d=>(_(),N("button",{key:d.id,class:ut(["preset-custom-btn px-3 py-2 rounded-lg text-sm transition-all",Mn(d.id)?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground border-2 border-transparent hover:border-primary"]),onClick:V=>Pn(d.id)},b(d.name),11,Vs))),128))])])):et("",!0)]),F(O,{class:"save-preset w-full mt-6",disabled:!l(f).name.trim()||l(f).standardDice.length===0&&l(f).customDiceIds.length===0,onClick:Bn},{default:q(()=>[G(b(l(t)("common.save")),1)]),_:1},8,["disabled"])])),[[$]])])):l(s)==="catalog"?(_(),N("div",js,[tt((_(),N("section",Ks,[m("h2",Gs,b(l(t)("dice.catalog")),1),m("div",Hs,[(_(),N(J,null,W(o,d=>F(Y,{key:d,class:"catalog-die-card p-4"},{default:q(()=>[m("div",Ys,[m("span",Js,"D"+b(d),1),m("p",Ws,"1-"+b(d),1)]),m("div",Qs,[m("button",{class:ut(["catalog-minus w-8 h-8 rounded-full bg-muted text-foreground flex items-center justify-center transition-colors",w(d)>0?"hover:bg-destructive hover:text-destructive-foreground":"opacity-50 cursor-not-allowed"]),disabled:w(d)===0,onClick:V=>P(d)},[F(l(nr),{class:"h-4 w-4"})],10,Xs),m("span",Zs,b(w(d)),1),m("button",{class:"catalog-plus w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center hover:bg-primary/80 transition-colors",onClick:V=>M(d)},[F(l(At),{class:"h-4 w-4"})],8,$s)])]),_:2},1024)),64))]),l(C)>0?(_(),K(Y,{key:0,class:"catalog-cart mt-6 p-4"},{default:q(()=>[m("div",ti,[m("span",ei,b(l(t)("dice.cart")),1),m("button",{class:"text-xs text-destructive hover:underline",onClick:D},b(l(t)("common.clear")),1)]),m("div",ni,[(_(!0),N(J,null,W(l(i),d=>(_(),K(zt,{key:d.type,variant:"secondary"},{default:q(()=>[G(b(d.count)+"x D"+b(d.type),1)]),_:2},1024))),128))]),F(O,{class:"add-to-tray-btn w-full",onClick:R},{default:q(()=>[F(l(At),{class:"h-4 w-4 mr-2"}),G(" "+b(l(t)("dice.addToTray"))+" ("+b(l(C))+") ",1)]),_:1})]),_:1})):(_(),N("p",ri,b(l(t)("dice.catalogHint")),1))])),[[$]])])):et("",!0),(_(),K(Zn,{to:"body"},[l(I)?(_(),N("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:Vt(st,["self"])},[F(Y,{class:"export-modal w-full max-w-sm p-6 space-y-4"},{default:q(()=>[m("div",oi,[m("h3",si,b(l(t)("dice.exportDie")),1),m("button",{class:"p-1 text-muted-foreground hover:text-foreground transition-colors",onClick:st},[F(l(xt),{class:"h-5 w-5"})])]),m("p",ii,b(l(z)?.name),1),l(E)?(_(),N("div",ai,[m("img",{src:l(E),alt:"QR Code",class:"rounded-lg"},null,8,ci)])):et("",!0),m("div",li,[l(z)?(_(),K(O,{key:0,variant:"outline",class:"flex-1",onClick:u[5]||(u[5]=d=>rt(l(z)))},{default:q(()=>[F(l(sr),{class:"h-4 w-4 mr-2"}),u[6]||(u[6]=G(" JSON ",-1))]),_:1})):et("",!0),F(O,{class:"flex-1",onClick:st},{default:q(()=>[G(b(l(t)("common.close")),1)]),_:1})])]),_:1})])):et("",!0)]))])}}});export{Pi as default};
